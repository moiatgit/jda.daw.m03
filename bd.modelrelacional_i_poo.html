

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ca" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ca" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>La programació orientada a objectes i el model relacional &mdash; Introducció a la programació 1819 documentació</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="PostgreSQL" href="bd.postgresql.html" />
    <link rel="prev" title="Persistència amb bases de dades" href="bd.html" />
     
    <script src="_static/moiscripts.js"></script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Introducció a la programació
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1819
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="dades.html">Dades</a></li>
<li class="toctree-l1"><a class="reference internal" href="operadors_i_expressions.html">Operadors i expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruccions.html">Instruccions seqüencials</a></li>
<li class="toctree-l1"><a class="reference internal" href="condicionals.html">Condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteracions.html">Iteracions</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="programacio_modular.html">Programació Modular</a></li>
<li class="toctree-l1"><a class="reference internal" href="bucles_condicionals.html">Bucles condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="sequencies.html">Seqüències</a></li>
<li class="toctree-l1"><a class="reference internal" href="python2java.html">De Python a Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructures.html">Estructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
<li class="toctree-l1"><a class="reference internal" href="contenidors.html">Agrupacions d’objectes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="bd.html">Persistència amb bases de dades</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">La programació orientada a objectes i el model relacional</a></li>
<li class="toctree-l2"><a class="reference internal" href="bd.postgresql.html">PostgreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="bd.jdbc.html">PostGreSQL JDBC</a></li>
<li class="toctree-l2"><a class="reference internal" href="bd.consultes.html">JDBC amb Model relacional</a></li>
<li class="toctree-l2"><a class="reference internal" href="bd.agenda.html">L’agenda</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="bd.html">Persistència amb bases de dades</a> &raquo;</li>
        
      <li>La programació orientada a objectes i el model relacional</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div>
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>

    <script>setCookiesboxVisibility();</script>

</div>
    
           <div itemprop="articleBody">
            
  <div class="section" id="la-programacio-orientada-a-objectes-i-el-model-relacional">
<h1>La programació orientada a objectes i el model relacional<a class="headerlink" href="#la-programacio-orientada-a-objectes-i-el-model-relacional" title="Link permanent a aquest títol">¶</a></h1>
<p>Ja hem vist que la programació orientada a objectes és probablement el paradigma
més <em>de moda</em> en programació. També sabem que el model relacional és el paradigma
més sòlid que coneixem per estructurar les nostres dades en bases de dades.</p>
<p>Sembla que tenim dues estrelles que han de treballar conjuntament. S’hi avindran
bé?</p>
<div class="section" id="sgbd-que">
<h2>SGBD-<em>què?</em><a class="headerlink" href="#sgbd-que" title="Link permanent a aquest títol">¶</a></h2>
<p>Veiem algunes definicions com a recordatori:</p>
<p><em>base de dades</em></p>
<blockquote>
<div>és una col·lecció de dades organitzada d’una manera
coherent, de manera que pugui ser accedida per una aplicació.</div></blockquote>
<p>SGBD</p>
<blockquote>
<div>un <em>sistema de gestió de bases de dades</em> (SGBD) és una aplicació que
permet l’administració de bases de dades, de l’organització de les
dades i de les dades pròpiament.</div></blockquote>
<p>Transacció</p>
<blockquote>
<div>Una <em>transacció</em> és una operació unitària sobre una base de dades,
tractada d’una manera coherent, fiable i independent d’altres
transaccions. Tot i que pot consistir en diverses operacions
individuals, la transacció ha de ser realitzada completament o bé no
realitzada. És a dir, no pot ser executada parcialment.</div></blockquote>
<p>ACID</p>
<blockquote>
<div><p>Acrònim anglès de les paraules <em>Atomicity</em>, <em>Consistency</em>,
<em>Isolation</em> i <em>Durability</em> implica un conjunt de propietats que ha
de complir un SGBD per garantir la fiabilitat de les transaccions.</p>
<ul class="simple">
<li>Atomicitat: assegura que una transacció és un <em>tot o res</em>. Una
transacció o bé finalitza correctament i confirma o bé no deixa
cap rastre de la seva execució.</li>
<li>Consistència: garanteix que l’execució de qualsevol transacció
no violarà cap les regles definides a la base de dades.</li>
<li>Aïllament (<em>Isolation</em>): el resultat d’executar transaccions de manera
concurrent ha de ser el mateix que si l’execució hagués estat seqüencial.</li>
<li>Durabilitat: un cop confirmada una transacció, aquesta propietat
ens assegura que el seu resultat es mantindrà fins i tot en el
cas de fallada del sistema.</li>
</ul>
</div></blockquote>
<p>SGBDR</p>
<blockquote>
<div><p>El <em>model relacional</em> és una manera d’estructurar la informació en
bases de dades basada en lògica de primer ordre, un sistema
descriptiu formal. L’estructura es basa en <em>tuples</em> (llistes
ordenades d’elements o <em>camps</em>) agrupades en relacions o <em>taules</em>.
Sovint ens referim a les tuples com <em>registres</em>.</p>
<p>Direm SGBDR a un SGBD que gestiona bases de dades definides fent servir el
model relacional. De fet, en l’actualitat és tan comú que es respecti aquest
model, que quan llegim SGBD es sobreenten que és un SGBDR.</p>
</div></blockquote>
<p>Normalització</p>
<blockquote>
<div><p>Es coneix com a <em>normalització</em> al procés d’organitzar els camps i
taules d’una base de dades de manera que es minimitzi redundàncies
i dependències. Tot i que hi ha més, es considera que una base de
dades està normalitzada si acompleix les primeres tres formes
normals:</p>
<ul class="simple">
<li>1FN: es diu que una taula està en primera forma normal si
disposa d’una clau primària no nula que permet identificar cada
registre<a class="footnote-reference" href="#nfmes" id="id1">[1]</a></li>
<li>2FN: tots els camps de un registre que no són clau depenen de la
clau primària en el seu conjunt. És a dir, que no depenen d’altres
camps que no siguin tots els que formen la clau primària.</li>
<li>3FN: tot camp que no sigui clau no ha dependre de cap altre camp
a banda dels que formen la clau primària.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="limitacions-i-problemes-dels-sgbdrs">
<h2>Limitacions i problemes dels SGBDRs<a class="headerlink" href="#limitacions-i-problemes-dels-sgbdrs" title="Link permanent a aquest títol">¶</a></h2>
<p>Tot i que un SGBDR és suficient per a moltes (potser <em>la majoria de
les</em>) necessitats de gestió de dades que puguin tenir les nostres
aplicacions, presenta algunes febleses.</p>
<p>Una de les crítiques freqüents que trobarem és: en normalitzar, sovint
ens trobem forçats a crear taules que no es corresponen amb entitats
del món real. Per exemple, pensa en com cal implementar les relacions
M:N.</p>
<p>Però potser la limitació més <em>incòmoda</em> del model relacional és la
dificultat que ofereix a comunicar-se amb aplicacions basades en el
paradigma «de moda»: l’orientació a objectes. És el que es coneix com
a <em>bretxa</em> o <em>impedance mismatch</em> entre els dos models. Bàsicament:</p>
<table border="1" class="docutils">
<colgroup>
<col width="45%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">El model Orientat a Objectes</th>
<th class="head">El model relacional</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>transitori (<em>transient</em>)</td>
<td>persistent</td>
</tr>
<tr class="row-odd"><td>classes (inclou comportament)</td>
<td>taules (només dades)</td>
</tr>
<tr class="row-even"><td>jerarquia de classes (inclou herència)</td>
<td>esquema de la BD (inclou claus foranes)</td>
</tr>
<tr class="row-odd"><td>herència</td>
<td>!</td>
</tr>
<tr class="row-even"><td>propietats / atributs</td>
<td>columnes / camps</td>
</tr>
<tr class="row-odd"><td>instància</td>
<td>tuples / files / registres</td>
</tr>
<tr class="row-even"><td>atribut d’instància</td>
<td>camp</td>
</tr>
<tr class="row-odd"><td>identitat implícita (punter)</td>
<td>identitat explícita (clau primària)</td>
</tr>
<tr class="row-even"><td>referències</td>
<td>claus foranes</td>
</tr>
<tr class="row-odd"><td>referències unidireccionals</td>
<td>referències bidireccionals</td>
</tr>
<tr class="row-even"><td>amb ordre (seqüèncial)</td>
<td>sense ordre</td>
</tr>
<tr class="row-odd"><td>missatges / interfície</td>
<td>!</td>
</tr>
<tr class="row-even"><td>centrat en el comportament</td>
<td>centrat en les dades</td>
</tr>
<tr class="row-odd"><td>navegació seguint referències</td>
<td>operació en conjunt</td>
</tr>
<tr class="row-even"><td>agrupació basada en el comportament</td>
<td>agrupació basada en les dades</td>
</tr>
<tr class="row-odd"><td>mètodes</td>
<td><em>stored procedures</em></td>
</tr>
<tr class="row-even"><td>dades i comportament fortament acoblats</td>
<td><em>triggers</em> i restriccions</td>
</tr>
<tr class="row-odd"><td>ocultació de dades, encapsulació</td>
<td>!</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="alternatives-als-sgbdrs">
<h2>Alternatives als SGBDRs<a class="headerlink" href="#alternatives-als-sgbdrs" title="Link permanent a aquest títol">¶</a></h2>
<p>A partir d’aquesta bretxa, es van dissenyar bases de dades orientades
a objecte per incorporar un mecanisme de persistència a les
aplicacions orientades a objecte.</p>
<p>Per diferents raons, els SGBDOOs (SGBD Orientats a Objectes) no han acabat de
quallar fins a data d’avui en la industria del desenvolupament. Segurament es
explicable pel fet que el model relacional tingui una sòlida base matemàtica i,
probablement, la disponibilitat del llenguatge SQL per realitzar consultes amb
independència del llenguatge de programació.</p>
<p>Amb tot, les necessitats d’afegir funcionalitats orientades a objecte es manté.
Així apareix el model <em>objecte-relacional</em> (SGBDOR) com un pas intermedi entre
els SGBDR i els SGBDOOs.</p>
<p>Podem simplificar el que ens ofereixen els SGBDOR amb el següent diagrama:</p>
<div align="center" class="align-center"><img src="_images/graphviz-409a7e57c714253dce9a9ab914e0582f21d731bf.png" alt="digraph ERD {
  rankdir = BT;
  node [
            fontname = &quot;Bitstream Vera Sans&quot;
            fontsize = 8
            shape = &quot;record&quot;
    ]

    edge [
            fontname = &quot;Bitstream Vera Sans&quot;
            fontsize = 8
    ]

    &quot;Model Objecte-Relacional&quot; [
            label = &quot;{Model Objecte-Relacional|Tipus definits per l'usuari (UDT)\lColleccions\lObjectes complexos\lHerència\l}&quot;
    ]

  edge [
    arrowhead = &quot;empty&quot;
  ]

    &quot;Model Objecte-Relacional&quot; -&gt; &quot;Model Relacional&quot;
}" />
</div>
<p>Darrerament estan començant a proliferar nous sistemes de gestió de bases de
dades basats en models no relacionals. Un dels més exitosos és el model
documental. En aquests models es prima la flexibilitat i accessibilitat a les
dades per sobre de la robustesa del model.</p>
<p>En aquests continguts, ens mantindrem amb el model relacional, doncs pels
nostres objectius d’aprendre la persistència de dades en tenim més que
suficient, i no ens força a aprendre un nou model.</p>
<p class="rubric">Anotacions</p>
<table class="docutils footnote" frame="void" id="nfmes" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>La formulació original incloïa més característiques com
ara l’atomicitat dels camps. Com que hi ha certa controvèrsia amb
les interpretacions, aquí obviarem aquests detalls.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>

          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bd.postgresql.html" class="btn btn-neutral float-right" title="PostgreSQL" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bd.html" class="btn btn-neutral" title="Persistència amb bases de dades" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2018-2019 Moisès Gómez Girón.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1819',
            LANGUAGE:'ca',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

     

  <!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41103782-2', 'auto');
  ga('send', 'pageview');

</script>
  <!-- End Google Analytics -->


  

</body>
</html>