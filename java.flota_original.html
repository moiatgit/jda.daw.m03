

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ca" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ca" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Enfonsar la flota &mdash; Introducció a la programació 2019-20 documentació</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
     
    <script src="_static/moiscripts.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Introducció a la programació
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1920
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruccions.html">Instruccions</a></li>
<li class="toctree-l1"><a class="reference internal" href="condicionals.html">Condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteracions.html">Iteracions</a></li>
<li class="toctree-l1"><a class="reference internal" href="programacio_modular.html">Programació Modular</a></li>
<li class="toctree-l1"><a class="reference internal" href="python2java.html">De Python a Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructures.html">Estructures</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Enfonsar la flota</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div>
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>

    <script>setCookiesboxVisibility();</script>

</div>
    
           <div itemprop="articleBody">
            
  <div class="section" id="enfonsar-la-flota">
<h1>Enfonsar la flota<a class="headerlink" href="#enfonsar-la-flota" title="Link permanent a aquest títol">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Aquest és l’enunciat original de la pràctica d’enfonsar la flota. Trobaràs un
enunciat amb la pràctica simplificada a <a class="reference internal" href="java.flota.html"><span class="doc">Enfonsar la flota</span></a>. Per
descomptat, pots desenvolupar aquesta versió més completa.</p>
</div>
<p>Posem a treballar tot el que hem aprés fins ara, desenvolupant un joc:
<em>enfonsa la flota</em></p>
<p>Probablement ja coneguis aquest joc. Es presenta un taulell que conté
vaixells amagats, i has d’anar dient coordenades fins que descobreixes
tots els vaixells.</p>
<p>Normalment, aquest joc es desenvolupa per dos o més jugadors però
nosaltres farem una primera versió simplificada. No pateixis, si ho fem
ben modular, podrem reaprofitar molt de codi en cas que decidim ampliar-lo
a més d’un jugador.</p>
<p>El programa es basa en dos conceptes bàsics: el <em>taulell</em> i la
<em>coordenada</em></p>
<p>Un taulell és una taula o matriu de dos dimensions <em>nXm</em>. Tant <em>n</em> com <em>m</em>
han de ser més grans que 0.</p>
<p>Cada posició de la taula és un valor entre el 0 i el 9, on</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: no vaixell o aigua</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> a <code class="docutils literal notranslate"><span class="pre">9</span></code>: vaixell de la longitud indicada.</p></li>
</ul>
<p>Les cel·les de valor 0 es diuen <em>aigua</em> mentre que la resta són
<em>vaixell</em> amb una longitud exactament igual a la longitud indicada
pel seu valor.</p>
<p>Les cel·les corresponents a un vaixell apareixen consecutives en la
mateixa fila o en la mateixa columna.</p>
<p>Els límits del taulell són també límits dels vaixells. És a dir, el
taulell no és esfèric.</p>
<p>Per que un taulell sigui vàlid:</p>
<ul>
<li><p>ha de correspondre a un rectangle ben format, en el sentit què totes les
files presenten el mateix nombre de columnes.</p></li>
<li><p>ha d’haver-hi com a mínim un vaixell.</p></li>
<li><p>un vaixell no pot tocar a un altre. És a dir, dues cel·les de
vaixells diferents, no poden ser consecutives. Es consideren
consecutives quan és troben a la cel·la anterior o posterior en la
mateixa fila o columna, però no diagonal.</p>
<p>Exemple vàlid amb taulell 3x6:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>·   A  B  C  D  E  F
   __ __ __ __ __ __
1   1  .  2  2  .  .   1
2   .  1  .  .  2  2   2
3   .  .  2  2  .  .   3
   __ __ __ __ __ __
    A  B  C  D  E  F
</pre></div>
</div>
<p>Aquí molts dels vaixells semblen tocar-se, però ho fan només per la
seva diagonal. Per exemple el vaixell <em>C1D1</em> està separat per aigua
del vaixell <em>A1A1</em>, només toca en diagonal amb els vaixells de la fila
2, i no toca amb el vaixell <em>C3D3</em> perquè el taulell no és esfèric.</p>
<p>Exemple no vàlid amb taulell 2x4:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>·   A  B  C  D
   __ __ __ __
1   2  3  3  3   1
2   2  .  .  1   2
   __ __ __ __
    A  B  C  D
</pre></div>
</div>
<p>Aquí, el vaixell <em>A1A2</em> és adjacent als vaixells <em>B1D1</em> i <em>A3A3</em>.</p>
</li>
</ul>
<p>Les coordenades, des del punt de vista dels usuaris, es representen com a
un full de càlcul tipus <em>libreoffice calc</em>. És a dir, amb un string format
per una o dues lletres majúscules (representant les columnes) i un, dos o
tres dígits començant per 1 (representant les files) Així, «A1» correspon
a (0, 0), «B1» a (0, 1), i «A2» a (1, 0).</p>
<p>Per simplificar l’exercici, la fila màxima permesa serà la <em>999</em> i la
columna màxima la <em>ZZ</em>.</p>
<div class="section" id="constructor-de-taulells">
<h2>Constructor de taulells<a class="headerlink" href="#constructor-de-taulells" title="Link permanent a aquest títol">¶</a></h2>
<p>En primer lloc, ens caldrà desenvolupar un programa que ens permeti
construir taulells.</p>
<p>El programa es dirà <code class="docutils literal notranslate"><span class="pre">ConstructorTaulell.java</span></code> i funcionarà de manera
interactiva, oferint un <em>prompt</em>.</p>
<p>En arrencar, el programa oferirà un missatge presentant la seva funció i
el <em>prompt</em> per demanar una comanda per part de la usuària.</p>
<p>Les comandes acceptades seran, sense distingir majúscules de minúscules:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">AJUDA</span></code>: el programa mostrarà un text d’ajuda amb les diferents
comandes possibles</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NOU</span></code>: la constructora està demanant crear un nou taulell.</p>
<p>En cas que hi hagi cap taulell en construcció, el programa indicarà
aquesta circumstància i proposarà que la usuària indiqui <code class="docutils literal notranslate"><span class="pre">OBLIDA</span></code>,
<code class="docutils literal notranslate"><span class="pre">RECORDA</span></code> o <code class="docutils literal notranslate"><span class="pre">ACTUALITZA</span></code> abans de demanar <code class="docutils literal notranslate"><span class="pre">NOU</span></code>.</p>
<p>En cas que no hi hagi cap taulell en construcció, el programa indicarà
que està creant un nou taulell, demanarà el nombre de files i de
columnes, i de ser aquestes correctes, crearà un taulell amb totes les
cel·les amb el valor d’aigua.</p>
<p>Les files i columnes han de ser especificades a partir de la
coordenada de la darrera fila i columna.
Per exemple, un taulell de 10x28 serà especificat com <em>AB10</em></p>
<p>A partir del moment en que que s’ha creat el taulell, aquest es
considera carregat i modificat. Aquest taulell, però, no es
considerarà vàlid, doncs per ser-ho, com a mínim ha de disposar d’un
vaixell.</p>
<p>En aquesta versió del programa no
s’ofereix la posibilitat de redimensionar el taulell. Per tant, si la
constructora vol, li caldrà oblidar aquest i crear-ne un altre.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CARREGA</span></code>: la constructora vol carregar un taulell ja creat. En cas
que hi hagi un taulell en construcció, el programa es comportarà com
en el cas de la comanda <code class="docutils literal notranslate"><span class="pre">NOU</span></code>.</p>
<p>Si no hi ha cap taulell en construcció, el programa demanarà un nom de
taulell. En cas d’existir, el programa el carregarà i mostrarà el seu
contingut tot dient <code class="docutils literal notranslate"><span class="pre">FET!</span></code>. Altrament, proposarà a la usuària que
torni a escriure <code class="docutils literal notranslate"><span class="pre">CARREGA</span></code> especificant algun altre nom o bé
<code class="docutils literal notranslate"><span class="pre">TAULELLS</span></code> per veure la llista.</p>
<p>Un taulell acabat de carregar no es considera modificat.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">OBLIDA</span></code>: la constructora ha decidit abandonar la construcció
d’aquest taulell. El programa li respon amb «OBLIDAT» i considera que
no hi ha cap taulell en construcció.</p>
<p>A partir d’aquest moment, no es considera que hi hagi un taulell
carregat.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">RECORDA</span></code>: la constructora ha decidit guardar el taulell tal i com
està.</p>
<p>Si el taulell no és vàlid (no conté cap vaixell), el programa
proposarà a la usuària que faci <code class="docutils literal notranslate"><span class="pre">AFEGEIX</span></code> abans.</p>
<p>Si el taulell és vàlid, el programa li demanarà un nom de taulell
(fitxer) i, en cas que no hi hagi cap altre fitxer amb el mateix nom,
el guardarà i informarà que tot ha anat bé amb el missatge <code class="docutils literal notranslate"><span class="pre">FET!</span></code>.
En cas, però, que sí hi hagi un fitxer amb el mateix nom, se li
demanarà a la usuària que torni a demanar <code class="docutils literal notranslate"><span class="pre">RECORDA</span></code> i triï un altre
nom.  A partir d’ara, el taulell ja no es considera modificat fins que
la constructora no realitzi un nou canvi.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ACTUALITZA</span></code>: la constructora ha decidit que el contingut actual del
taulell li agrada més que l’antic, i el vol substituir. En cas que el
taulell hagi estat creat de nou i no es disposi de nom, el programa
suggerirà que escrigui <code class="docutils literal notranslate"><span class="pre">RECORDA</span></code>, altrament sobreescriurà el mapa
anterior i informarà que tot ha anat bé amb el missatge <code class="docutils literal notranslate"><span class="pre">FET!</span></code>. A
partir d’ara, el taulell ja no es considera modificat fins que la
constructora no realitzi un nou canvi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TAULELLS</span></code>: el programa mostrarà la llista de noms de taulells
coneguts amb la seva dimensió al costat.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AFEGEIX</span></code>: la constructora vol afegir un nou vaixell al taulell. El
programa li demana les coordenades. Si les coordenades no són vàlides
(malament formades o fora del taulell)
o bé fan que el taulell deixi de ser vàlid (ex. fan col·lisionar el
nou vaixell amb un d’existent), el programa descriu el problema.</p>
<p>Si tot és correcte, el programa actualitzarà el taulell amb el nou
vaixell i el considerarà modificat fins que la usuària el faci guardar
o oblidar.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ELIMINA</span></code>: la constructora ha decidit que un dels vaixells no li
agrada i el vol eliminar. El programa li demana les coordenades del
vaixell i, en cas que no corresponguin exactament a un vaixell del
taulell, li indicarà l’error.</p>
<p>Altrament, eliminarà el vaixell del taulell, considerarà el taulell
modificat i respondrà amb el missatge habitual <code class="docutils literal notranslate"><span class="pre">FET!</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOSTRA</span></code>: la constructora vol tornar a veure representat el taulell.
Si no hi ha cap taulell carregat, el programa recomanarà fer <code class="docutils literal notranslate"><span class="pre">NOU</span></code> o
<code class="docutils literal notranslate"><span class="pre">CARREGA</span></code>.</p>
<p>Altrament, el programa mostrarà una representació del taulell.
Per exemple, en cas que el taulell demanat sigui de 10x28, i hi hagi
un vaixell <em>D3D4</em>, es mostrarà:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>·    A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z AA AB
    __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
 1   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    1
 2   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    2
 3   .  .  .  2  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    3
 4   .  .  .  2  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    4
 5   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    5
 6   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    6
 7   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    7
 8   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    8
 9   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .    9
10   .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   10
    __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
     A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z AA AB
</pre></div>
</div>
<p>Malgrat el taulell pot arribar a ser molt gran per ser representat en
una pantalla amb comoditat, en aquesta primera versió del programa no
s’exigeix gestionar paginació</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">SURT</span></code>: la constructora vol finalitzar l’execució. Si hi ha un
taulell modificat, el programa proposarà que primer el guardi amb
<code class="docutils literal notranslate"><span class="pre">RECORDA</span></code> o <code class="docutils literal notranslate"><span class="pre">ACTUALITZA</span></code>, o bé <code class="docutils literal notranslate"><span class="pre">OBLIDA</span></code>.</p></li>
</ul>
</div>
<div class="section" id="el-joc">
<h2>El joc<a class="headerlink" href="#el-joc" title="Link permanent a aquest títol">¶</a></h2>
<p>El joc serà implementat pel programa <code class="docutils literal notranslate"><span class="pre">Flota.java</span></code></p>
<p>El funcionament del joc és el següent:</p>
<ul>
<li><p>En arrencar el programa, carrega el taulell contingut a un fitxer, a
partir del nom del taulell segons s’hagi definit a
<code class="docutils literal notranslate"><span class="pre">ConstructorTaulell</span></code>. El nom del taulell és proporcionat com a
argument de línia de comandes.</p>
<p>De no trobar-se el taulell amb aquest nom, finalitza execució amb
un missatge d’error</p>
</li>
<li><p>El programa valida que el contingut del fitxer sigui correcte. De no
ser-ho, finalitza execució amb un missatge d’error.</p></li>
<li><p>D’estar tot correcte, el programa mostra el mapa del taulell on,
inicialment totes les cel·les apareixen amb el valor <em>ocult</em> sota un
símbol d’interrogació. Com a ajuda, al voltant dels valors del
taulell, apareixeran els noms de la fila/la columna corresponent.</p>
<p>Per exemple, si el taulell és 10x28, la seva representació inicial
serà:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>·      A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z AA AB
      __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
   1   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    1
   2   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    2
   3   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    3
   4   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    4
   5   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    5
   6   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    6
   7   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    7
   8   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    8
   9   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?    9
  10   ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?  ?   10
      __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
       A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z AA AB
</pre></div>
</div>
</li>
<li><p>un cop representat el taulell, se li demanarà a la jugadora que
introdueixi una comanda amb un prompt.</p></li>
</ul>
<p>Les comandes acceptades, sense distinció de majúscules/minúscules, són:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SURT</span></code>: la jugadora abandona la partida. El programa finalitza amb el
missatge «JO GUANYO!».</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SOLUCIONA</span></code>: la jugadora abandona la partida però vol veure el taulell.
El programa finalitza tot mostrant el taulell sense cap posició oculta
i el missatge «JO GUANYO!».</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AJUDA</span></code>: el programa mostra un text d’ajuda on descriu les comandes
acceptades.</p></li>
<li><p>una coordenada: la jugadora introdueix una coordenada vàlida. El
programa respon depenent de les següents condicions:</p>
<p>Si és una cel·la ja destapada, el programa respon amb un missatge que
invita la jugadora a estar més atenta. Per exemple, «DESPERTA!»</p>
<p>Si és una cel·la que contenia aigua, el programa respondrà «AIGUA» i
mostrarà el mapa del taulell amb la cel·la destapada.</p>
<p>Si és una cel·la que contenia un vaixell i encara queden parts del
vaixell sense destapar, el programa respondrà amb «TOCAT» i mostrarà
el mapa del taulell amb la cel·la destapada.</p>
<p>Si la cel·la destapada finalitza un vaixell, el programa respondrà amb
«TOCAT I ENFONSAT», i:</p>
<p>Si en finalitzar un vaixell, encara queden vaixells per destapar,
mostrarà el mapa del taulell amb la cel·la destapada.</p>
<p>Si era el darrer vaixell no destapat al taulell, mostrarà tot el
taulell destapat i el missatge «TU GUANYES!»</p>
</li>
</ul>
</div>
<div class="section" id="altres-detalls-importants">
<h2>Altres detalls importants<a class="headerlink" href="#altres-detalls-importants" title="Link permanent a aquest títol">¶</a></h2>
<p>T’ofereixo algunes aclaracions i pistes. Encara que pensis que no les
necessites, et demanaria que les llegeixis doncs inclouen informació de
context que et pot ser útil.</p>
<div class="section" id="representacio-interna">
<h3>Representació interna<a class="headerlink" href="#representacio-interna" title="Link permanent a aquest títol">¶</a></h3>
<p>Hi ha moltes maneres de representar internament els taulells. Donat que
per cada cel·la només necessitem saber un valor del 0 al 9, el que guardem
als fitxers podria ser, per exemple:</p>
<ul>
<li><p>un caràcter per cel·la i separant cada línia amb un salt de línia per
delimitar files</p>
<p>És una solució molt fàcil de gestionar i fins i tot podem entendre el
contingut dels fitxers amb força facilitat. El problema és que en Java,
un caràcter ocupa 2 bytes quan amb 4 bits en tindríem de sobres!</p>
</li>
<li><p>un byte per cel·la (codificant els valors com a ASCII), amb salt de
línia per delimitar files</p>
<p>Una versió més eficient en espai que encara es podria llegir com a text</p>
</li>
<li><p>un byte per cel·la codificant els valors com a enters, amb un valor
especial per marcar el final de fila.</p>
<p>Ens caldrà guardar els fitxers en binari i potser no guanyem tant
respecte la proposta anterior.</p>
</li>
<li><p>un byte per cel·la amb dos enters petits inicials, codificant el nombre
de files i de columnes del taulell</p>
<p>Ens estalviem un byte per cada fila. Depenent del nombre de files, pot
ser un estalvi.</p>
</li>
<li><p>un byte per cada dues cel·les, amb dos <em>short int</em> inicials representant
les dimensions del taulell.</p>
<p>Si t’agrada estalviar espai, aquesta pot ser una bona opció. Costarà una
mica més codificar i descodificar, però et sentiràs <em>molt pro</em> ;)</p>
</li>
<li><p>guardant només les especificacions de les dimensions del taulell i dels
vaixells</p>
<p>Probablement és l’opció més eficient en espai. Et requerirà fer més
càlculs a l’hora d’interpretar el seu contingut però… i com t’ho
passaràs de bé codificant-t’ho?</p>
</li>
</ul>
<p>El taulell, durant l’execució pot ser representat de qualsevol de les
maneres anteriors, tot i que potser serà interessant trobar-ne una que
faci més fàcil identificar les cel·les encara ocultes. Potser la manera
més fàcil serà fer servir una taula de <code class="docutils literal notranslate"><span class="pre">char</span></code>. Tu manes!</p>
</div>
<div class="section" id="nom-dels-fitxers">
<h3>Nom dels fitxers<a class="headerlink" href="#nom-dels-fitxers" title="Link permanent a aquest títol">¶</a></h3>
<p>Els noms dels fitxers
podrien correspondre amb el nom del taulell indicat per la constructora
(en minúscules), amb l’extensió <code class="docutils literal notranslate"><span class="pre">.taulell</span></code> i podrien estar guardats en
un mateix directori (ex. <code class="docutils literal notranslate"><span class="pre">taulells/</span></code>.</p>
<p>Tot plegat, simplificaria molt la seva gestió. En tot cas, com en tants
altres detalls d’implementació d’aquest exercici, la decisió és teva.</p>
</div>
<div class="section" id="esborrar-pantalla">
<h3>Esborrar pantalla<a class="headerlink" href="#esborrar-pantalla" title="Link permanent a aquest títol">¶</a></h3>
<ul>
<li><p>El teu programa farà més goig si pots esborrar la pantalla.</p>
<p>Crea un programa i fes que executi el següent codi que hauria de
funcionar-te amb una consola <em>X-linux</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Neteja la finestra de la consola</span>
<span class="cm"> */</span>
<span class="kd">static</span> <span class="kt">void</span> <span class="nf">netejaFinestra</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;\033[H\033[2J&quot;</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="reutilitzacio-de-codi-i-packages">
<h3>Reutilització de codi i <em>packages</em><a class="headerlink" href="#reutilitzacio-de-codi-i-packages" title="Link permanent a aquest títol">¶</a></h3>
<p>És fàcil que et resulti interessant reaprofitar mòduls que has
desenvolupat a <code class="docutils literal notranslate"><span class="pre">ConstructorTaulell</span></code> des de <code class="docutils literal notranslate"><span class="pre">Flota</span></code> o, fins i tot
d’altres d’exercicis previs com <code class="docutils literal notranslate"><span class="pre">TaulesUtils</span></code>. Per fer-ho, en comptes de
copiar i enganxar funcions, pot simplement assegurar-te que el codi de
totes les classes que t’interessen, es troba a la mateixa carpeta que el
programa que estàs codificant. Llavors, per cridar-les, simplement fes
servir el nom de la classe, seguit de punt, i acabat per la crida habitual
al mòdul corresponent.</p>
<p>Per simplicitat, de moment <strong>no</strong> defineixis els teus propis <em>packages</em>.
Si estàs fent servir una eina que te’ls genera automàticament, assegura’t
d’eliminar-los.</p>
</div>
<div class="section" id="excepcions-i-orientacio-a-objectes">
<h3>Excepcions i orientació a objectes<a class="headerlink" href="#excepcions-i-orientacio-a-objectes" title="Link permanent a aquest títol">¶</a></h3>
<p>Hi ha molts conceptes que encara no hem treballat de Java. Entre d’altres
la orientació a objectes i el mecanisme d’excepcions.</p>
<p>Evita tant com et sigui possible aquests dos temes, doncs no és l’objectiu
d’aquesta pràctica. Si per exemple, en obrir un fitxer es produeix una
excepció, és acceptable que el teu programa simplement finalitzi amb un
missatge d’error gestionat pel Java.</p>
</div>
<div class="section" id="control-de-versions">
<h3>Control de versions<a class="headerlink" href="#control-de-versions" title="Link permanent a aquest títol">¶</a></h3>
<p>És molt important que realitzis un control de versions durant el
desenvolupament d’aquesta pràctica, doncs forma part de l’avaluació.</p>
<p>Si has de treballar tu sola/sol, guarda el teu exercici com a
<code class="docutils literal notranslate"><span class="pre">06_06_flota/</span></code> al teu repositori de l’assignatura.</p>
<p>En cas que el desenvolupis conjuntament amb una altra companya o company,
és preferible que creeu un nou repositori on treballar conjuntament. Feu
<a class="reference internal" href="holagit.html"><span class="doc">les mateixes passes</span></a> que vau realitzar per construir el
que feu servir en aquesta assignatura. Aquest cop, però, hi serem un/una
més al repositori. Tot i que el repositori estarà dedicat a aquest
exercici, incloeu tot el desenvolupament dins de la carpeta
<code class="docutils literal notranslate"><span class="pre">06_06_flota/</span></code>.</p>
<p>Aquesta experiència de treballar conjuntament sobre el mateix repositori
ja és, en sí, molt enriquidora. Demaneu ajut quan apareguin dificultats.</p>
<p>Assegureu-vos que incloeu el nom de tots els autors/autores a la capçalera
de cada fitxer.</p>
<p>No oblidis, després de cada canvi significatiu, fer un <em>commit</em>!</p>
<p>Recorda que aquí l’objectiu no és l’eficiència en la producció de codi
sinó l’eficiència en l’aprenentatge.</p>
</div>
<div class="section" id="com-comencar-ho-tot-plegat">
<h3>Com començar-ho tot plegat?<a class="headerlink" href="#com-comencar-ho-tot-plegat" title="Link permanent a aquest títol">¶</a></h3>
<p>Probablement el punt més difícil és començar a fer el programa. Et proposo
el següent:</p>
<ul>
<li><p>si has de treballar per parelles, creeu el nou repositori privat,
convideu-me i prepareu el vostre entorn local. Potser voldreu fer alguna
prova tot editant per separat el fitxer <code class="docutils literal notranslate"><span class="pre">readme</span></code>.</p></li>
<li><p>creat un fitxer amb el nom del programa i defineix una bona capçalera.
Pots fer servir inicialment el text d’aquest enunciat, però de seguida,
intenta desglossar-lo en una llista d’elements petits. Per exemple:</p>
<ul class="simple">
<li><p>oferir missatge presentant la funció del programa</p></li>
<li><p>mostrar prompt</p></li>
<li><p>recollir comanda</p></li>
<li><p>mostrar ajuda</p></li>
<li><p>crear nou taulell</p></li>
<li><p>…</p></li>
</ul>
</li>
<li><p>fes una o més simulacions de diferents execucions. La primera potser
podria ser simplement:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ java ConstructorTaulell

Benvingut, benvinguda al programa de construcció de taulells pel joc
d&#39;enfonsar la flota.

Per demanar ajuda, simplement tecleja AJUDA

&gt; SURT
Adéu
</pre></div>
</div>
<p>Un cop tinguis la primera, podries ja generar el primer programa que
sigui capaç de passar la prova.</p>
<p>És molt recomenable que facis servir fitxers d’entrada/sortida a l’estil
dels que hem estat fent servir durant tot el curs. Si et cal, demana
ajuda per adaptar el programa <code class="docutils literal notranslate"><span class="pre">test/test.sh</span></code> a les necessitats del teu
projecte.</p>
</li>
<li><p>Per la majoria de nosaltres, resulta més fàcil abordar els problemes,
tot simplificant-los inicialment, per després anar-los completant de
manera incremental.</p>
<p>Per exemple, probablement sigui més adequat mostrar inicialment els
valors dels taulells sense indicar ni el número de fila ni la lletra de
la columna. Tot seguit pots mirar de posar les files a una banda,
després a les dues, després els noms de columna de la A a la Z, després
continuar fins la ZZ.</p>
</li>
<li><p>quan tinguis clar que has de crear un mòdul, defineix clarament el seu
objectiu. En cas que et sigui possible, defineix una mena de <em>doctest</em>
o, si t’atreveixes, un <em>junit test</em>! No tinguis problemes per demanar
suport. El teu profe estarà més que content d’ajudar-te!</p></li>
<li><p>Finalment recorda: no estàs sola/sol desenvolupant. Està molt bé fer
coses per la teva banda, però també aprendre a fer consultes de com
resoldre un problema que no et surt o, fins i tot, demanar assessorament
quan el codi que has generat no t’acaba de convèncer.</p></li>
</ul>
</div>
</div>
<div class="section" id="ampliacions">
<h2>Ampliacions ☼<a class="headerlink" href="#ampliacions" title="Link permanent a aquest títol">¶</a></h2>
<p>Hi ha un bon nombre d’ampliacions d’aquest projecte que poden ser
interessants. Et proposo algunes:</p>
<ul>
<li><p>multijugador: oferir la possibilitat de que hi hagi més d’una jugadora.
<code class="docutils literal notranslate"><span class="pre">Flota</span></code> pot demanar quants jugadors a l’inici del joc, pot ser fins i
tot, un nom per jugadora, i anar demanant de manera alternativa la
resposta a cada jugadora.</p></li>
<li><p>paginació: ofereix la opció de mostrar parcialment el mapa. Per exemple,
indicant el segment del mapa a mostrar.</p></li>
<li><p>redimensionat: <code class="docutils literal notranslate"><span class="pre">ConstructorTaulell</span></code> permet redimensionar un taulell ja
creat o un vaixell, o fins i tot, moure un vaixell.</p></li>
<li><p>random: <code class="docutils literal notranslate"><span class="pre">ConstructorTaulell</span></code> permet col·locar de manera aleatòria un
vaixell d’una dimensió donada.</p></li>
<li><p>taulell esfèric: es considera el taulell esfèric.</p>
<p>Per exemple, el següent taulell 3x4 és vàlid i conté un sol vaixell:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>·   A  B  C  D
   __ __ __ __
1   .  .  .  .   1
2   3  .  3  3   2
3   .  .  .  .   3
   __ __ __ __
    A  B  C  D
</pre></div>
</div>
</li>
<li><p>multijugador distribuït: vols aconseguir que els jugadors puguin
connectar-se a la teva aplicació de manera remota i jugar? Finalitza com
a mínim els requeriments bàsics, i consulta’m!</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>

  <!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41103782-2', 'auto');
  ga('send', 'pageview');

</script>
  <!-- End Google Analytics -->


          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2020 Moisès Gómez Girón

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>