

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ca" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ca" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Classes i objectes &mdash; Introducció a la programació 1819 documentació</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Constructors" href="constructors_i.html" />
    <link rel="prev" title="Programació Orientada a Objectes" href="poo.html" />
     
    <script src="_static/moiscripts.js"></script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Introducció a la programació
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1819
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="dades.html">Dades</a></li>
<li class="toctree-l1"><a class="reference internal" href="operadors_i_expressions.html">Operadors i expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruccions.html">Instruccions seqüencials</a></li>
<li class="toctree-l1"><a class="reference internal" href="condicionals.html">Condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteracions.html">Iteracions</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="programacio_modular.html">Programació Modular</a></li>
<li class="toctree-l1"><a class="reference internal" href="bucles_condicionals.html">Bucles condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="sequencies.html">Seqüències</a></li>
<li class="toctree-l1"><a class="reference internal" href="python2java.html">De Python a Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructures.html">Estructures</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Classes i objectes</a></li>
<li class="toctree-l2"><a class="reference internal" href="constructors_i.html">Constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="membres_instancia_classe.html">Membres d’instància i de classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="relacions.html">Relacions entre classes</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="poo.html">Programació Orientada a Objectes</a> &raquo;</li>
        
      <li>Classes i objectes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div>
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>

    <script>setCookiesboxVisibility();</script>

</div>
    
           <div itemprop="articleBody">
            
  <div class="section" id="classes-i-objectes">
<h1>Classes i objectes<a class="headerlink" href="#classes-i-objectes" title="Link permanent a aquest títol">¶</a></h1>
<p>En aquests continguts, tindràs una primera visió dels conceptes <em>classe</em> i <em>objecte</em>.</p>
<p>Aquesta introducció es realitza de manera pràctica, guiada amb
exercicis que progressivament incorporen diferents perspectives dels
conceptes a tractar.</p>
<div class="section" id="hola-gat-renat">
<h2>Hola gat Renat!<a class="headerlink" href="#hola-gat-renat" title="Link permanent a aquest títol">¶</a></h2>
<p>Coneixerem ara a un nou amic que ens acompanyarà en aquest viatge de
descobriment de la programació orientada a objectes: el gat Renat.</p>
<div class="section" id="exercici-1-el-gat-renat-te-set-vides">
<h3>Exercici 1. El gat Renat té set vides<a class="headerlink" href="#exercici-1-el-gat-renat-te-set-vides" title="Link permanent a aquest títol">¶</a></h3>
<p>Considera el següent codi:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GatRenat</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">vides</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>                <span class="c1">// vides disponibles del gat Renat</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">GatRenat</span> <span class="n">renat</span><span class="o">;</span>           <span class="c1">// declarem la referència al gat</span>
        <span class="n">renat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="o">();</span>   <span class="c1">// creem la instància del gat Renat.</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Al gat Renat li queden &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Copia i executa el codi i contesta les següents preguntes:</p>
<ol class="arabic">
<li><p class="first">Quin ha de ser el nom del fitxer que contingui aquest codi perquè
funcioni?</p>
</li>
<li><p class="first">A quina línia està declarada la variable <code class="docutils literal notranslate"><span class="pre">renat</span></code> que apareix a la
línia 6?</p>
</li>
<li><p class="first">A quina línia s’assigna el valor que es mostra per pantalla?</p>
</li>
<li><p class="first">Quin valor apareix si a aquesta línia no s’assigna cap valor?</p>
</li>
<li><p class="first">Què passaria sí la línia 5 no hi fos? Perquè creus?</p>
</li>
<li><p class="first">Perquè creus que el comentari de la línia 4 parla de <em>referència</em>?
Quina relació té amb el concepte de <em>variable</em>?</p>
</li>
<li><p class="first">La línia 5 parla d”<em>instància</em>. En aquest context, una instància es
pot entendre com el contingut real al que fa referència la variable
<code class="docutils literal notranslate"><span class="pre">renat</span></code>. Es diu que la instància es <em>construeix</em> amb l’operador
<code class="docutils literal notranslate"><span class="pre">new</span></code> i això implica bàsicament que es reserva espai de memòria
per a allotjar tota la informació relativa a la instància.</p>
<p>Descriu, respecte aquesta línia quina és la instància, quina la variable,
quina la referència, quin el valor i quina la classe.</p>
</li>
</ol>
<p>El resultat de l’exercici consistirà en el fitxer <strong>en text pla</strong>, amb el codi
i, al final d’aquest, en forma de comentaris, cada pregunta amb la seva
resposta.</p>
<p>No oblidis posar el nom de l’autor/l’autora (el teu és clar), la data
i una petita descripció del contingut, al començament del fitxer.</p>
</div>
<div class="section" id="exercici-2-el-gat-renat-te-un-accident">
<h3>Exercici 2. El gat Renat té un accident<a class="headerlink" href="#exercici-2-el-gat-renat-te-un-accident" title="Link permanent a aquest títol">¶</a></h3>
<p>Podem canviar el nombre de vides del gat Renat simplement afegint les
següents línies al final del <code class="docutils literal notranslate"><span class="pre">main()</span></code>:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GatRenat</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">vides</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>                <span class="c1">// vides disponibles del gat Renat</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">GatRenat</span> <span class="n">renat</span><span class="o">;</span>           <span class="c1">// declarem l&#39;objecte (la referència) al gat</span>
        <span class="n">renat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="o">();</span>   <span class="c1">// creem la instància del gat Renat.</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Abans el gat Renat tenia &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
        <span class="n">renat</span><span class="o">.</span><span class="na">vides</span> <span class="o">=</span> <span class="n">renat</span><span class="o">.</span><span class="na">vides</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>  <span class="c1">// Renat ha tingut un accident</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Ara el gat Renat té &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">vides</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Modifica la classe <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code> amb els canvis, executa el codi i contesta
les següents preguntes:</p>
<ol class="arabic simple">
<li>Com podem consultar (llegir, obtenir) el valor d’una propietat de
la instància?</li>
<li>Com podem canviar (escriure, assignar) el valor d’una propietat de
la instància?</li>
<li>És possible indicar que el gat Renat té -12 vides? Com? És quelcom
desitjable que pugui passar? En cas que es pugui, com ho podries
evitar fent servir els coneixements de programació estructurada i modular?</li>
</ol>
</div>
<div class="section" id="exercici-3-hi-ha-dos-gats-renat">
<h3>Exercici 3. Hi ha dos gats Renat?<a class="headerlink" href="#exercici-3-hi-ha-dos-gats-renat" title="Link permanent a aquest títol">¶</a></h3>
<p>Als exercicis anteriors hem definit una classe anomenada <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code>, i n’hem creat una instància a
la que ens hem referit amb la variable <em>renat</em>. Tot plegat, ens pot portar a creure que la classe
<code class="docutils literal notranslate"><span class="pre">GatRenat</span></code> representa a un únic exemplar de gat Renat. Però no és el cas. En podem fer més de Renats.</p>
<p>Per simplicitat, és preferible entendre que la classe engloba a un <em>tipus</em> o
<em>classe</em> de gat molt particular, que coneixem de manera genèrica com a <em>GatRenat</em>.</p>
<p>Considera el següent codi en el que tindrem més d’un gat Renat:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GatRenat</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">vides</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>   <span class="c1">// vides disponibles del gat Renat</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">GatRenat</span> <span class="n">renat_I</span><span class="o">;</span>
        <span class="n">renat_I</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="o">();</span>               <span class="c1">// crea un primer gat Renat</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat I té  &quot;</span> <span class="o">+</span> <span class="n">renat_I</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>

        <span class="n">GatRenat</span> <span class="n">renat_II</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="o">();</span>     <span class="c1">// crea un segon gat Renat!</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat II té &quot;</span> <span class="o">+</span> <span class="n">renat_II</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>

        <span class="n">renat_I</span><span class="o">.</span><span class="na">vides</span><span class="o">++;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat I té  &quot;</span> <span class="o">+</span> <span class="n">renat_I</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat II té &quot;</span> <span class="o">+</span> <span class="n">renat_II</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>

        <span class="n">renat_II</span> <span class="o">=</span> <span class="n">renat_I</span><span class="o">;</span> <span class="c1">// atenció: la instància de Renat II es perd!</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat I té  &quot;</span> <span class="o">+</span> <span class="n">renat_I</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat II té &quot;</span> <span class="o">+</span> <span class="n">renat_II</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>

        <span class="n">renat_I</span><span class="o">.</span><span class="na">vides</span><span class="o">++;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat I té  &quot;</span> <span class="o">+</span> <span class="n">renat_I</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;El gat Renat II té &quot;</span> <span class="o">+</span> <span class="n">renat_II</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Copia i executa el codi i contesta les següents preguntes:</p>
<ol class="arabic simple">
<li>Quanta memòria ocupa, com a mínim, una instància de <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code>?</li>
<li>Quantes instàncies hi ha de <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code> tot just executat el codi fins la línia 5 (inclosa)?</li>
<li>I fins la línia 6?</li>
<li>I fins la línia 9?</li>
<li>Perquè les línies 7 i 10 mostren les mateixes vides pels gats Renat
I i Renat II?</li>
<li>Perquè les línies 13 i 14 mostren diferent nombre de vides pels
gats Renat I i Renat II?</li>
<li>Què creus que vol dir el comentari de la línia 16?</li>
<li>Perquè les línies 17 i 18 mostren les mateixes vides pels gats
Renat I i Renat II?</li>
<li>Perquè les línies 21 i 22 mostren les mateixes vides pels gats
Renat I i Renat II malgrat la instrucció de la línia 20?</li>
<li>Quantes instàncies hi ha quan s’executa la l’inia 20? Perquè?</li>
</ol>
</div>
<div class="section" id="exercici-4-renat-tambe-des-de-fora">
<h3>Exercici 4. Renat també des de fora<a class="headerlink" href="#exercici-4-renat-tambe-des-de-fora" title="Link permanent a aquest títol">¶</a></h3>
<p>Considera ara el següent codi que apareix a un altre fitxer:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UsaGatRenat</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">GatRenat</span> <span class="n">renat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Al gat Renat li queden &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Copia el codi en un fitxer al mateix directori que el de l’exercici
anterior i executa’l.</p>
<p>Respon a les següents preguntes:</p>
<ol class="arabic simple">
<li>Quin és el nom del fitxer on està definit el punt d’entrada <code class="docutils literal notranslate"><span class="pre">main()</span></code> d’aquest programa?</li>
<li>Ara tenim dos fitxers amb <code class="docutils literal notranslate"><span class="pre">main()</span></code>. Com pot saber Java quin és el
<code class="docutils literal notranslate"><span class="pre">main()</span></code> a executar?</li>
<li>A quin fitxer està definida la classe del gat Renat?</li>
<li>Quants programes es podrien construir fent ús de la definició del gat Renat?</li>
<li>Què passaria si el fitxer amb el codi anterior i el que conté la
definició de la classe del Renat estiguessin en directoris
diferents? (prova-ho!)</li>
<li>Elimina el <code class="docutils literal notranslate"><span class="pre">main()</span></code> de <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code>. Continua funcionant <code class="docutils literal notranslate"><span class="pre">UsaGatRenat</span></code>?
Què ha deixat de poder-se executar?</li>
</ol>
<p>Per a aquest, com potser ja has imaginat, caldrà lliurar els dos
fitxers. Fes servir la utilitat tar per a agrupar-los.</p>
</div>
<div class="section" id="exercici-5-renat-te-estat">
<span id="classes-i-objectes-exercici5"></span><h3>Exercici 5. Renat té estat<a class="headerlink" href="#exercici-5-renat-te-estat" title="Link permanent a aquest títol">¶</a></h3>
<p>El gat Renat pot estar dret, assegut o estirat. Modifica la definició
de la seva classe perquè pugui guardar aquesta informació, fent que
inicialment estigui estirat.</p>
<p>Crea un <code class="docutils literal notranslate"><span class="pre">main()</span></code> dins de la definició de la classe, que instanciï un
gat Renat, mostri el nombre de vides i l’estat per defecte, canviï
l’estat a assegut i torni a mostrar el nou estat.</p>
<p>Crea un altre main() fora de la definició de la classe, que instanciï
un gat Renat, mostri el nombre de vides i l’estat per defecte, canviï
l’estat a dret i torni a mostrar el nou estat.</p>
<p>Pista: el tipus de dades per codificar l’estat podria ser <code class="docutils literal notranslate"><span class="pre">String</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Aquest exercici disposa d’un
<a class="reference download internal" href="_downloads/E5GatRenatTest.java" download=""><code class="xref download docutils literal notranslate"><span class="pre">test</span> <span class="pre">unitari</span></code></a>.
Assegura’t que el teu codi passa tots els tests.</p>
<p class="last">Considera aquesta <a class="reference internal" href="instal_junit.html"><span class="doc">guia</span></a> per realitzar el test.</p>
</div>
</div>
<div class="section" id="exercici-6-el-renat-te-sempre-un-nombre-de-vides-correcte">
<h3>Exercici 6. El Renat té sempre un nombre de vides correcte<a class="headerlink" href="#exercici-6-el-renat-te-sempre-un-nombre-de-vides-correcte" title="Link permanent a aquest títol">¶</a></h3>
<p>Ja hem comentat abans que deixar una propietat pública perquè tothom pugui
modificar-la pot portar a problemes. Per exemple, al gat Renat li podem
posar impunement -15 vides.</p>
<p>Considera el següent codi:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GatRenat</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">vides</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>   <span class="c1">// vides disponibles del gat Renat</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getVides</span><span class="o">()</span> <span class="o">{</span>  <span class="c1">// mètode que retorna el nombre de vides</span>
        <span class="k">return</span> <span class="n">vides</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setVides</span><span class="o">(</span><span class="kt">int</span> <span class="n">vides</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// modifica el nombre de vides del gat si el paràmetre vides conté un valor vàlid</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">vides</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">vides</span> <span class="o">=</span> <span class="n">vides</span><span class="o">;</span>   <span class="c1">// de moment passem per alt aquest &quot;this&quot;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Contesta les següents preguntes:</p>
<ol class="arabic simple">
<li>Què passa si intentes executar el següent codi? Perquè creus?</li>
</ol>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UsaGatRenat</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">GatRenat</span> <span class="n">renat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="o">();</span>
        <span class="n">renat</span><span class="o">.</span><span class="na">vides</span> <span class="o">=</span> <span class="n">renat</span><span class="o">.</span><span class="na">vides</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Al gat Renat li queden &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">getVides</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="2">
<li>Què s’està declarant a la línia 3 de la definició de la classe <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code>? Així, que pot voler
dir <em>mètode</em> en notació POO?</li>
<li>Indica quina sortida genera el següent <code class="docutils literal notranslate"><span class="pre">main()</span></code> i explica perquè és aquesta?</li>
</ol>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span>   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">GatRenat</span> <span class="n">renat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="o">();</span>
       <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Al gat Renat li queden &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">getVides</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
       <span class="n">renat</span><span class="o">.</span><span class="na">setVides</span><span class="o">(-</span><span class="mi">12</span><span class="o">);</span>
       <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Al gat Renat li queden &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">getVides</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
       <span class="n">renat</span><span class="o">.</span><span class="na">setVides</span><span class="o">(</span><span class="mi">12</span><span class="o">);</span>
       <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Al gat Renat li queden &quot;</span> <span class="o">+</span> <span class="n">renat</span><span class="o">.</span><span class="na">getVides</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; vides&quot;</span><span class="o">);</span>
   <span class="o">}</span>
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="4">
<li>Sense modificar la classe <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code>, és possible aconseguir que una instància de <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code> pugui
tenir un nombre de vides negatiu?  Perquè o Com?</li>
</ol>
</div>
<div class="section" id="exercici-7-l-estat-del-renat-es-sempre-bo">
<h3>Exercici 7. L’estat del Renat és sempre bo!<a class="headerlink" href="#exercici-7-l-estat-del-renat-es-sempre-bo" title="Link permanent a aquest títol">¶</a></h3>
<p>Crea els mètodes <em>setters</em> i <em>getters</em> necessaris per garantir que l’estat
del Renat sigui sempre correcte, a l’hora que pugui ser canviat.</p>
<p>Recorda que els estats vàlids del gat renat són <strong>exactament</strong>: dret,
assegut i estirat.</p>
<p>Crea un <code class="docutils literal notranslate"><span class="pre">main()</span></code> que demostri el funcionament dels nous mètodes.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Aquest exercici disposa d’un
<a class="reference download internal" href="_downloads/E7GatRenatTest.java" download=""><code class="xref download docutils literal notranslate"><span class="pre">test</span> <span class="pre">unitari</span></code></a>.
Assegura’t que el teu codi passa tots els tests.</p>
</div>
</div>
<div class="section" id="exercici-8-com-esta-renat">
<h3>Exercici 8. Com està Renat?<a class="headerlink" href="#exercici-8-com-esta-renat" title="Link permanent a aquest títol">¶</a></h3>
<p>De vegades amb els <em>accessors</em> (mètodes <em>getters</em> i <em>setters</em>) no
resulta pràctic treballar. Així, cal afegir nous mètodes que permetin
un ús més còmode.</p>
<p>Afegeix al repertori de mètodes del Renat els següents:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">boolean</span> <span class="pre">estaViu()</span></code> // cert si encara li queda alguna vida</li>
<li><code class="docutils literal notranslate"><span class="pre">boolean</span> <span class="pre">estaDret()</span></code>, <code class="docutils literal notranslate"><span class="pre">boolean</span> <span class="pre">estaAssegut()</span></code>, <code class="docutils literal notranslate"><span class="pre">boolean</span> <span class="pre">estaEstirat()</span></code></li>
</ol>
<p>Crea un <code class="docutils literal notranslate"><span class="pre">main()</span></code> que demostri el funcionament dels nous mètodes.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Aquest exercici disposa d’un
<a class="reference download internal" href="_downloads/E8GatRenatTest.java" download=""><code class="xref download docutils literal notranslate"><span class="pre">test</span> <span class="pre">unitari</span></code></a>.
Assegura’t que el teu codi passa tots els tests.</p>
</div>
</div>
<div class="section" id="exercici-9-el-gat-renat-esta-ensinistrat">
<h3>Exercici 9. El gat Renat està ensinistrat!<a class="headerlink" href="#exercici-9-el-gat-renat-esta-ensinistrat" title="Link permanent a aquest títol">¶</a></h3>
<p>Una de les gràcies de la POO és que podem tractar peces de codi com si
tinguessin una mena de personalitat pròpia. És el que es coneix com
<em>la metàfora de la POO</em>. Així, podem imaginar que els objectes ens
realitzen serveis o que els podem donar ordres. Ho visualitzarem amb
el nostre pacient amic Renat.</p>
<p>Afegeix tres nous mètodes: <code class="docutils literal notranslate"><span class="pre">String</span> <span class="pre">aixecat()</span></code>, <code class="docutils literal notranslate"><span class="pre">String</span> <span class="pre">seu()</span></code>, i
<code class="docutils literal notranslate"><span class="pre">String</span> <span class="pre">estirat()</span></code> de manera que quan vulguem, per exemple, que Renat
s’aixequi simplement li diguem  <code class="docutils literal notranslate"><span class="pre">renat.aixecat();</span></code>.</p>
<p>En cas que el Renat ja estigués en l’estat que se li demana, no fa cap canvi d’estat.</p>
<p>Aquestes funcions retornaran un missatge indicant el que ha fet el Renat. Així, els missatges que
ens retornarà poden ser:</p>
<ul class="simple">
<li>m’estiro</li>
<li>m’assec</li>
<li>m’aixeco</li>
<li>no faig res</li>
</ul>
<p>Crea un <code class="docutils literal notranslate"><span class="pre">main()</span></code> que demostri el funcionament dels nous mètodes.</p>
<p><strong>Atenció</strong>: els nous mètodes <strong>no</strong> han d’escriure res per sortida estàndard.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Aquest exercici disposa d’un
<a class="reference download internal" href="_downloads/E9GatRenatTest.java" download=""><code class="xref download docutils literal notranslate"><span class="pre">test</span> <span class="pre">unitari</span></code></a>.
Assegura’t que el teu codi passa tots els tests.</p>
</div>
</div>
<div class="section" id="exercici-10-protegim-encara-mes-l-estat-del-renat">
<span id="classes-i-objectes-exercici10"></span><h3>Exercici 10. Protegim encara més l’estat del Renat<a class="headerlink" href="#exercici-10-protegim-encara-mes-l-estat-del-renat" title="Link permanent a aquest títol">¶</a></h3>
<p>El fet que l’estat del gat estigui codificat amb un String, no deixa de ser una incomoditat. Hom es
pot equivocar teclejant i la detecció no és massa senzilla. Has de fer un munt de comprovacions.</p>
<p>Cerca per la web el concepte de enum en java i tracta de millorar la definició del Renat creant una
enumeració anomenada <code class="docutils literal notranslate"><span class="pre">GatEstat</span></code> i canviant el tipus de la propietat <code class="docutils literal notranslate"><span class="pre">estat</span></code> de String a
<code class="docutils literal notranslate"><span class="pre">GatEstat</span></code>.</p>
<p>Una bona font de consulta és el <a class="reference external" href="https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html">tutorial de enumerats</a> «oficial». Per les necessitats
d’aquest exercici, n’hi ha prou amb que entenguis parcialment l’exemple dels dies de la setmana. Per
fer-ho, crea dos fitxers anomenats <code class="docutils literal notranslate"><span class="pre">Day.java</span></code> i <code class="docutils literal notranslate"><span class="pre">EnumTest.java</span></code>. Copia-hi dins el codi
corresponent que apareix al tutorial i executa <code class="docutils literal notranslate"><span class="pre">EnumTest</span></code>.</p>
<p>Fixa’t com es defineixen els valors vàlids de l’enumerat <code class="docutils literal notranslate"><span class="pre">Days</span></code> i com, per referir-se als dilluns,
el codi de <code class="docutils literal notranslate"><span class="pre">EnumTest.java</span></code> escriu <code class="docutils literal notranslate"><span class="pre">Day.MONDAY</span></code>. Ignora tot el que no entenguis del tutorial i,
en cas que no puguis extreure’n informació útil per fer aquest exercici, passa a un altre tutorial
més fàcil o pregunta!</p>
<p>De manera similar a <code class="docutils literal notranslate"><span class="pre">Days</span></code>, hauràs de crear <code class="docutils literal notranslate"><span class="pre">GatEstat</span></code>. Els valors possibles de <code class="docutils literal notranslate"><span class="pre">GatEstat</span></code>
seràn: ESTIRAT, ASSEGUT i DRET.</p>
<p>Afegeix, si no hi són ja, els següents mètodes</p>
<ol class="arabic">
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setEstat(String)</span></code></p>
<p>Assigna l’estat a partir d’un String. Si el string no es correspon
amb un estat vàlid, no canvia res. Aquest mètode sembla, des de fora, el que ja teníem.
Internament, però, canviarà.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setEstat(GatEstat)</span></code></p>
<p>Assigna l’estat a partir d’un GatEstat. Sí, té el mateix nom que la funció anterior. Cerca
<em>method overloading</em> o sobrecàrrega de mètodes, en cas que ja no recordis que ja el varem tractar
<a class="reference internal" href="java.funcions.html#intro-lang-overloading"><span class="std std-ref">aquí</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">GatEstat</span> <span class="pre">getEstat()</span></code></p>
<p>Retorna l’estat del gat com a GatEstat.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">String</span> <span class="pre">getEstatComString()</span></code></p>
<p>Retorna l’estat del gat en forma de String.
Fixa’t que ara no podem posar-li el mateix nom que a l’anterior mètode doncs la sobrecàrrega no
distingeix el tipus de retorn.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Aquest canvi provocarà, per primer cop en aquest
curs, que els programes dels exercicis anteriors deixin de funcionar. Com pots imaginar-te,
no és una situació desitjable sinó ben al contrari! En tot cas, de vegades passa. Esperem que
els desenvolupadors del Món no hagin generat massa programes crítics fent servir la nostra
classe <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code> i que, en tot cas, els puguin modificar per a poder gaudir de la nova
versió.</p>
</div>
</li>
</ol>
<p>És probable que et calgui realitzar algun altre canvi en el codi de mètodes existents. Prova de
realitzar-los sense modificar-los la signatura.</p>
<p>Perquè creus que el codi de <code class="docutils literal notranslate"><span class="pre">setEstat()</span></code> es tan diferent en
complexitat depenent del tipus paràmetre que rep? Afegeix aquest
comentari al codi del mètode més senzill. Inclou als comentaris una
descripció amb les teves paraules.</p>
<p>Executa el codi amb un <code class="docutils literal notranslate"><span class="pre">main()</span></code> del problema anterior. Funciona
sense haver de modificar res? Perquè creus que és així? Quin avantatge
hi trobes? Crea un nou <code class="docutils literal notranslate"><span class="pre">main()</span></code> ampliant l’anterior que demostri el
funcionament dels nous mètodes. Afegeix-hi les teves reflexions.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Aquest exercici disposa d’un
<a class="reference download internal" href="_downloads/E10GatRenatTest.java" download=""><code class="xref download docutils literal notranslate"><span class="pre">test</span> <span class="pre">unitari</span></code></a>.
Assegura’t que el teu codi passa tots els tests.</p>
</div>
</div>
<div class="section" id="exercici-11-que-he-apres-de-les-classes-i-objectes">
<h3>Exercici 11. Què he aprés de les classes i objectes?<a class="headerlink" href="#exercici-11-que-he-apres-de-les-classes-i-objectes" title="Link permanent a aquest títol">¶</a></h3>
<p>Fes un repàs dels continguts d’aquest tema incloent els exercicis anteriors.
Indica exercici a exercici què has aprés de nou en fer-lo, o bé quins són els
conceptes que introdueix l’exercici, si ja els coneixies anteriorment. Procura
ser molt concret. Si et cal, ajuda’t de (nous) exemples.</p>
<p>En el cas que no hagis entès algun dels exercicis… bé, aquest cas no es pot donar ja que, abans de
fer aquest exercici t’ajudaràs de les diferents fonts de suport que tens al teu abast (incloent, és
clar, consultes al teu docent) per arribar a entendre’l. És a dir, <strong>no val</strong> dir, que un exercici
no l’has entès! Entesos?</p>
<p>Redacta aquest exercici en un document de text pla. Et recomano que facis servir
algun format de text de marques com ara <a class="reference internal" href="rst.intro.html"><span class="doc">reStructuredText</span></a>
o <a class="reference external" href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">markdown</a>.</p>
<hr class="docutils" />
<p><em>Ref. 20.1.1</em></p>
</div>
</div>
</div>


           </div>
           
          </div>

          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="constructors_i.html" class="btn btn-neutral float-right" title="Constructors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="poo.html" class="btn btn-neutral" title="Programació Orientada a Objectes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2018-2019 Moisès Gómez Girón.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1819',
            LANGUAGE:'ca',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

     

  <!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41103782-2', 'auto');
  ga('send', 'pageview');

</script>
  <!-- End Google Analytics -->


  

</body>
</html>