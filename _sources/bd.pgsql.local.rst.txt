##################################
Connectem localment amb PostGreSQL
##################################

Accedim ara a la base de dades *testbd* des de la màquina virtual amb el nostre nou usuari
*usuaribd* fent servir:

.. code-block:: none
    :emphasize-lines: 1, 6, 9

    usuarivm@vm:~$ psql -U usuaribd -d testbd -h localhost
    Password for user usuaribd: 
    psql (11.2 (Debian 11.2-1.pgdg90+1))
    SSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)
    Type "help" for help.

    testbd=> \conninfo
    You are connected to database "testbd" as user "usuaribd" on host "localhost" at port "5432".
    SSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)
    testbd=> \q

.. note:: És probable que en cridar ``psql`` t'apareguin uns missatges
    d'avís com aquests:

    .. code-block:: none

        vagrant@stretch:~$ psql -U usuaribd -d testbd -h localhost
        perl: warning: Setting locale failed.
        perl: warning: Please check that your locale settings:
            LANGUAGE = (unset),
            LC_ALL = (unset),
            LC_PAPER = "ca_ES.UTF-8",
            LC_MONETARY = "ca_ES.UTF-8",
            LC_NUMERIC = "ca_ES.UTF-8",
            LC_MEASUREMENT = "ca_ES.UTF-8",
            LC_TIME = "ca_ES.UTF-8",
            LANG = "en_US.UTF-8"
            are supported and installed on your system.
        perl: warning: Falling back to a fallback locale ("en_US.UTF-8").

    El problema és que la connexió amb ``ssh`` a la teva màquina virtual està enviant
    informació d'idioma des del teu amfitrió a la màquina virtual que aquesta no pot
    gestionar. 

    Si bé, pots ignorar aquest missatge, potser et donarà més tranquil·litat solucionar-lo
    amb:

    .. code-block:: bash

        vagrant@stretch:~$ echo 'export LC_CTYPE=en_US.UTF-8' >> ~/.bashrc
        vagrant@stretch:~$ echo 'export LC_ALL=en_US.UTF-8' >> ~/.bashrc
        vagrant@stretch:~$ . ~/.bashrc

    Si tens curiositat, pots mirar `aquesta entrada a stackoverflow
    <http://stackoverflow.com/questions/2499794/how-to-fix-a-locale-setting-warning-from-perl>`_



