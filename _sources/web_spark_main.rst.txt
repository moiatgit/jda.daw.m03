##################
El nostre programa
##################

El codi del nostre primer programa serà el següent:

.. literalinclude:: _recursos/holaspark/v1/Main.java
   :linenos:
   :lines: 7-
   :lineno-start: 7
   :language: java
   :caption: :download:`src/main/java/Main.java <_recursos/holaspark/v1/Main.java>`

Analitzem una mica aquest codi.

Tenim un mètode ``composaSalutacio()`` que retorna sempre un mateix valor
de tipus String: la salutació.

Tenim també un mètode ``main()`` amb una única instrucció.

Val, és només una però… amb el que sabem fins ara de Java, la seva
sintaxi resulta una mica rara, oi?

Aquesta línia defineix una *ruta*. La ruta que especifica és la que
indica el seu primer argument: ``holaspark/``. Com que és ``get()``, el
que defineix és una ruta HTTP de tipus *GET* que podem entendre com allò
que apareix a la url després del camí al servidor.

El seu segon argument és el que es veu més peculiar. Sense entrar massa
en detalls, es tracta d'una funció *lambda*. Una funció lambda és un
tipus especial de funció que no te nom i que s'executa juntament amb la
seva definició. En aquest cas diu que espera dos paràmetres (``rq`` i
``rs``) i que retorna el resultat de cridar el mètode
``composaSalutacio()``. Els valors de ``rq`` (*Request*) i ``rs``
(*Response*). En aquesta ocasió no en fem cas de ``rq`` ni de ``rs`` i
sempre retornem el que digui ``composaSalutacio()``.

