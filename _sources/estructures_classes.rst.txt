######################
Agrupacions en classes
######################

Com podríem replicar la solució d'agrupació de les dades en que es composa
un resultat fent servir Java?

Considera la següent traducció més o menys directa de les versions de C i Python:

.. literalinclude:: _code/NotesEstudiantV04.java
   :language: java
   :linenos:

Fixa't que hem definit una nova classe anomenada ``Resultat`` que conté els
diferents *elements* de que es composa un resultat.

Molt similar la versió de C, oi?

Fixa't que:

* a la línia 26 *creem* la instància d'un ``Resultat`` i l'associem a la variable ``resultat``, i

* a les línies següents, *inicialitzem* els camps de la instància.

Instàncies, valors i variables
==============================

Malgrat els mots *instància*, *valor* i *variable* sovint semblen
intercanviables, aquí els distingirem.

* Una *instància* és una ocurrència d'un determinat tipus de dades. Es tracta
  d'un espai en memòria ocupat amb el *valor* de la dada representada per la
  instància.

* Una *variable* és una referència a la instància. Per suposat, podem tenir
  moltes variables que facin referència a la mateixa instància. Per exemple:

.. code-block:: java

    Resultat r1 = new Resultat();
    r1.estudiant = "Laia";
    r1.nota = 6;
    Resultat r2 = r1;
    r1.nota = 8;
    System.out.println( r2.estudiant + ": " + r2.nota); // "Laia: 8"

Un fitxer per la nostra classe
==============================

De fet, un cop ja tenim la classe, podem guardar-la en el seu propi fitxer que
en Java es sol anomenar igual que la classe (``Resultat.java``)

.. code-block:: java

    /*
        La classe Resultat encapsula els resultats (la nota) que ha obtingut un
        estudiant en una unitat formativa
    */
    public class Resultat {
        String estudiant;
        int nota;
    }

Fixa't com la classe ``Resultat`` ha perdut la paraula ``static`` i ha
guanyat ``public``. Més endavant entendrem el perquè de tot plegat.

Ara, la versió de l'exercici es pot reescriure

.. literalinclude:: _code/NotesEstudiantV05.java
   :language: java
   :linenos:

Si guardes el fitxer ``NotesEstudiantV05.java`` en la mateixa carpeta que
``Resultat.java``, hauries de poder executar el primer de la manera
habitual. Java sabrà trobar la definició de la classe ``Resultat``.

Exercici 5. Instàncies i variables
==================================

Considera el següent fragment de codi en Java:

.. code-block:: java
    :linenos:

    String laLaia = "Laia";
    String[] noms;
    noms = new String[10];
    noms[0] = laLaia;
    noms[1] = "Cipriano";
    noms[3] = "Nemèsia";

Crea una taula com la següent i indica quantes variables i instàncies de tipus
String, han estat definides a cada línia. Indica també quantes variables no
String s'han creat i de quin tipus.

=====  ===================  ====================  ================
Línia  variables de String  instàncies de String  altres variables
=====  ===================  ====================  ================
1
2
3
4
=====  ===================  ====================  ================


Exercici 6. ☞ Mostra la fitxa d'una persona (revisitat)
=======================================================

Implementa la classe ``Persona`` ajudant-te de la definició de ``Resultat`` vist
abans.

Crea una nova versió del programa que vas desenvolupar a
l':ref:`exercici_fitxa_persona`, aquest cop agrupant les dades de la
persona en la classe ``Persona``.

Modifica adequadament tant ``main()`` com ``mostraFitxa()``.

Exercici 7. ☞ Unes quantes fitxes de persones (revisitat)
=========================================================

Torna a implementar l':ref:`exercici_unes_quantes_fitxes_persona`, aquest
cop agrupant les dades de persona amb ajut de la classe ``Persona``.
