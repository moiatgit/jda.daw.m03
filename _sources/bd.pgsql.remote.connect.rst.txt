###########################
Connectem des de l'amfitrió
###########################

Finalment provarem la connexió remota des de l'amfitrió.

A la màquina amfitrió probablement ens caldrà instal·lar el client de
*PostGreSQL*. Ho podem fer simplement amb:

.. code-block:: none

        $ sudo apt install postgresql-client

És probable que ens instal·li una versió diferent de la del nostre
servidor. En el meu cas, per exemple, m'ha instal·lat la versió 9.6.12.
Pel que farem en aquest curs, aquesta diferència només implicarà un
missatge d'avís.
Si tens, però, interès en la versió més actual, et caldrà seguir passes
similars a les que hem fet per instal·lar la darrera versió de
*PostGreSQL* a la màquina virtual.

Ara ja podem fer una prova des de l'amfitrió:

.. code-block:: none
    :emphasize-lines: 1, 8, 11

    $ psql -U usuaribd -d testbd -h 192.168.33.10
    Password for user usuaribd: 
    psql (9.6.12, server 11.2 (Debian 11.2-1.pgdg90+1))
    WARNING: psql major version 9.6, server major version 11.
             Some psql features might not work.
    SSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)

    testbd=> \conninfo 
    You are connected to database "testbd" as user "usuaribd" on host "192.168.33.10" at port "5432".
    SSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)
    testbd=> \q

Si tot ha anat bé, ja disposem d'un servidor *PostGreSQL* en funcionament amb un usuari i
una base de dades amb els que podrem estudiar el funcionament d'aquest SGBD.

.. tip::

    Potser voldràs no haver de teclejar constantment el password. ``psql``
    t'ofereix aquesta possibilitat si guardes al fitxer ``~/.pgpass`` el següent
    contingut:

    .. code-block:: none

        192.168.33.10:5432:testbd:usuaribd:pass
