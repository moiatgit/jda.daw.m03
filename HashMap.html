

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ca" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ca" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HashMap &mdash; Introducció a la programació 1819 documentació</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
     
    <script src="_static/moiscripts.js"></script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Introducció a la programació
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1819
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="dades.html">Dades</a></li>
<li class="toctree-l1"><a class="reference internal" href="operadors_i_expressions.html">Operadors i expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruccions.html">Instruccions seqüencials</a></li>
<li class="toctree-l1"><a class="reference internal" href="condicionals.html">Condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteracions.html">Iteracions</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="programacio_modular.html">Programació Modular</a></li>
<li class="toctree-l1"><a class="reference internal" href="bucles_condicionals.html">Bucles condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="sequencies.html">Seqüències</a></li>
<li class="toctree-l1"><a class="reference internal" href="python2java.html">De Python a Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructures.html">Estructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>HashMap</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div>
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>

    <script>setCookiesboxVisibility();</script>

</div>
    
           <div itemprop="articleBody">
            
  <div class="section" id="hashmap">
<h1>HashMap<a class="headerlink" href="#hashmap" title="Link permanent a aquest títol">¶</a></h1>
<div class="figure align-center">
<p class="plantuml">
<img src="_images/plantuml-4de93717241b51dc922871edaa9658db939babef.png" alt="&#64;startuml

hide circle
hide empty members

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}


interface Map {
    clear()
    containsKey(Object): boolean
    containsValue(Object): boolean
    getOrDefault(Object key, V default): V
    isEmpty(): boolean
    put(K key, V value): V
    remove(Object): V
    size(): int
}

class Object
class AbstractMap &lt;&lt;abstract&gt;&gt; extends Object implements Map
class HashMap extends AbstractMap

&#64;enduml"/>
</p>
</div>
<p>La classe <a class="reference external" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html">HashMap</a>
ens ofereix un contenidor de parells clau-valor. La seva implementació està
dissenyada perquè trobar el valor a partir de la clau sigui molt ràpid.</p>
<p>Per exemple, considera l’exercici
<a class="reference internal" href="ArrayList.html#exercici-llistat-contactes-amb-arraylist"><span class="std std-ref">Exercici 2. ☆ El llistat de contactes</span></a>. Per implementar l’opció
<code class="docutils literal notranslate"><span class="pre">mostra</span> <span class="pre">«nom»</span></code>, vam haver de recòrrer la seqüència de contactes i, un per un,
anar demanant si el seu nom coincideix amb el nom cercat. En el pitjor dels
casos, el que cerquem és al final de la seqüència o, fins i tot, ni hi és!</p>
<p>Si haguéssim aparellat cada contacte amb el seu nom com a clau, <code class="docutils literal notranslate"><span class="pre">HashMap</span></code> ens
hagués permés trobar de seguida el contacte.</p>
<p>Per què <code class="docutils literal notranslate"><span class="pre">HashMap</span></code> funcioni i ho faci correctament, cal que la clau tingui unes
característiques especials. Una d’elles és que ha de ser un objecte. És a dir,
no val un tipus primitiu com a clau. Una altra és que, la classe de la clau ha
de definir correctament els mètodes <code class="docutils literal notranslate"><span class="pre">equals(Object)</span></code> i <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">hashCode()</span></code><a class="footnote-reference" href="#igualtat" id="id2">[1]</a>.  Finalment, l’estat de la clau no hauria de modificar-se mentre
faci de clau.  Per sort, les classes que habitualment fem servir (ex.
<code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">Integer</span></code>) estan ben definides.</p>
<p>Veiem un exemple que fa servir un <code class="docutils literal notranslate"><span class="pre">HashMap</span></code>:</p>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span></span>~/$ jshell
|  Welcome to JShell -- Version 11.0.1
|  For an introduction type: /help intro

jshell&gt; Map&lt;String, ArrayList&lt;Integer&gt;&gt; notes = new HashMap&lt;&gt;()
notes ==&gt; {}

jshell&gt; notes.put(&quot;Marc&quot;, new ArrayList&lt;Integer&gt;());
$2 ==&gt; null

jshell&gt; ArrayList&lt;Integer&gt; notesMarc = notes.get(&quot;Marc&quot;);
notesMarc ==&gt; []

jshell&gt; notesMarc.add(5);
$4 ==&gt; true

jshell&gt; notesMarc.add(4);
$5 ==&gt; true

jshell&gt; notesMarc.add(6);
$6 ==&gt; true

jshell&gt; notes.get(&quot;Marc&quot;)
$7 ==&gt; [5, 4, 6]

jshell&gt; notes.put(&quot;Aina&quot;, new ArrayList&lt;Integer&gt;());
$8 ==&gt; null

jshell&gt; notes.get(&quot;Aina&quot;);
$9 ==&gt; []

jshell&gt; notes.get(&quot;Aina&quot;).add(8);
$10 ==&gt; true

jshell&gt; notes.get(&quot;Aina&quot;).add(9);
$11 ==&gt; true

jshell&gt; notes.get(&quot;Aina&quot;).add(7);
$12 ==&gt; true

jshell&gt; notes.get(&quot;Lin&quot;);
$13 ==&gt; null

jshell&gt; notes.getOrDefault(&quot;Lin&quot;, new ArrayList&lt;Integer&gt;());
$14 ==&gt; []
</pre></div>
</td></tr></table></div>
<p>Fixa’t que, per definir un <code class="docutils literal notranslate"><span class="pre">HashMap</span></code> ens cal indicar quines són les classes de
la seva clau i el seus valors.</p>
<div class="section" id="exercici-1-que-podem-fer-amb-un-hashmap">
<h2>Exercici 1. Què podem fer amb un HashMap?<a class="headerlink" href="#exercici-1-que-podem-fer-amb-un-hashmap" title="Link permanent a aquest títol">¶</a></h2>
<p>Al diagrama que apareix en aquesta pàgina, es mostra la relació de <code class="docutils literal notranslate"><span class="pre">HashMap</span></code>
amb diferents classes i interfícies. El diagrama també mostra alguns dels
mètodes que ofereix la classe.</p>
<p>En aquest exercici se’t demana que cerquis què ofereixen els diferents mètodes
de la classe <code class="docutils literal notranslate"><span class="pre">HashMap</span></code>. Com a mínim els indicats al diagrama.</p>
<p>Per cada mètode, crea un exemple d’ús que demostri el seu funcionament.</p>
</div>
<div class="section" id="exercici-2-el-llistat-de-contactes-eficient">
<h2>Exercici 2. ☆ El llistat de contactes eficient<a class="headerlink" href="#exercici-2-el-llistat-de-contactes-eficient" title="Link permanent a aquest títol">¶</a></h2>
<p>Farem una nova versió de l’exercici del <a class="reference internal" href="ArrayList.html#exercici-llistat-contactes-amb-arraylist"><span class="std std-ref">llistat de contactes</span></a>, aquest cop aprofitant les
funcionalitats de la classe <code class="docutils literal notranslate"><span class="pre">HashMap</span></code>.</p>
<p>El programa oferirà les mateixes funcionalitats de la versió anterior, però ara
trobarà la informació molt més ràpidament.</p>
<p>Per preservar l’ordre dels contactes, et proposo dues opcions:</p>
<ol class="arabic simple">
<li>manté una llista en paral·lel, amb l’ordre dels contactes</li>
<li>fes servir la classe <a class="reference external" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html">LinkedHashMap</a>
que et permet recuperar els elements en l’ordre introduït.</li>
</ol>
<p>Assegura’t també que la funcionalitat <code class="docutils literal notranslate"><span class="pre">troba</span> <span class="pre">«num»</span></code> s’executa molt
eficientment. En concret, planteja’t com pots aconseguir que els contactes amb
el mateix número de telèfon, es puguin trobar directament.</p>
<hr class="docutils" />
<table class="docutils footnote" frame="void" id="igualtat" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>Hi trobaràs múltiples discussions al respecte. Per exemple, mira
aquesta de <a class="reference external" href="https://stackoverflow.com/questions/17027777/relationship-between-hashcode-and-equals-method-in-java">stackoverflow</a>.
La idea bàsica és que <code class="docutils literal notranslate"><span class="pre">HashMap</span></code> fa servir una funció de <em>hash</em> per a
distribuir les claus. Aquesta funció es basa en el valor que retorna
<code class="docutils literal notranslate"><span class="pre">hashCode()</span></code> per cada instància. Mira la descripció de <a class="reference external" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()">hashCode()</a>
a la documentació oficial de Java, per fer-te una idea de les
característiques que se n’esperen. Si <code class="docutils literal notranslate"><span class="pre">hashCode()</span></code> no està ben definit,
<code class="docutils literal notranslate"><span class="pre">HashMap</span></code> no funcionarà bé, o fins i tot, no funcionarà!.</td></tr>
</tbody>
</table>
<hr class="docutils" />
<p><em>Ref. 21.2</em></p>
</div>
</div>


           </div>
           
          </div>

          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2018-2019 Moisès Gómez Girón.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1819',
            LANGUAGE:'ca',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

     

  <!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41103782-2', 'auto');
  ga('send', 'pageview');

</script>
  <!-- End Google Analytics -->


  

</body>
</html>