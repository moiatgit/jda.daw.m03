

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ca" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ca" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>L’agenda &mdash; Introducció a la programació 1819 documentació</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="prev" title="JDBC amb Model relacional" href="bd.consultes.html" />
     
    <script src="_static/moiscripts.js"></script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Introducció a la programació
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1819
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="dades.html">Dades</a></li>
<li class="toctree-l1"><a class="reference internal" href="operadors_i_expressions.html">Operadors i expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruccions.html">Instruccions seqüencials</a></li>
<li class="toctree-l1"><a class="reference internal" href="condicionals.html">Condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteracions.html">Iteracions</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="programacio_modular.html">Programació Modular</a></li>
<li class="toctree-l1"><a class="reference internal" href="bucles_condicionals.html">Bucles condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="sequencies.html">Seqüències</a></li>
<li class="toctree-l1"><a class="reference internal" href="python2java.html">De Python a Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructures.html">Estructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
<li class="toctree-l1"><a class="reference internal" href="contenidors.html">Agrupacions d’objectes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="bd.html">Persistència amb bases de dades</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bd.modelrelacional_i_poo.html">La programació orientada a objectes i el model relacional</a></li>
<li class="toctree-l2"><a class="reference internal" href="bd.postgresql.html">PostgreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="bd.jdbc.html">PostGreSQL JDBC</a></li>
<li class="toctree-l2"><a class="reference internal" href="bd.consultes.html">JDBC amb Model relacional</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">L’agenda</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="bd.html">Persistència amb bases de dades</a> &raquo;</li>
        
      <li>L’agenda</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    <div>
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>

    <script>setCookiesboxVisibility();</script>

</div>
    
           <div itemprop="articleBody">
            
  <div class="section" id="l-agenda">
<h1>L’agenda<a class="headerlink" href="#l-agenda" title="Link permanent a aquest títol">¶</a></h1>
<p>Havent vist el llistat de contactes desenvolupat a l’exercici del <a class="reference internal" href="HashMap.html#exercici-hashmap-llistat-contactes"><span class="std std-ref">llistat
de contactes</span></a>, hem trobat que podria ser
una aplicació molt més interessant si fem servir una base de dades per guardar
la informació dels nostres contactes.</p>
<p>En aquesta primera versió de la nostra agenda, la interfície amb els usuaris
serà amb format entorn operatiu.</p>
<p>Els continguts d’aquest enunciat es distribueixen en els següents apartats:</p>
<div class="contents local topic" id="contingut">
<ul class="simple">
<li><a class="reference internal" href="#model-entitat-relacio" id="id1">Model Entitat-Relació</a></li>
<li><a class="reference internal" href="#descripcio-general-de-l-entorn" id="id2">Descripció general de l’entorn</a></li>
<li><a class="reference internal" href="#comandes-de-consulta" id="id3">Comandes de consulta</a></li>
<li><a class="reference internal" href="#comandes-de-modificacio" id="id4">Comandes de modificació</a></li>
<li><a class="reference internal" href="#paginacio" id="id5">Paginació</a></li>
<li><a class="reference internal" href="#importacio-i-exportacio" id="id6">Importació i exportació</a></li>
<li><a class="reference internal" href="#pistes" id="id7">Pistes</a><ul>
<li><a class="reference internal" href="#com-puc-extreure-informacio-d-una-cadena-de-text" id="id8">Com puc extreure informació d’una cadena de text</a></li>
<li><a class="reference internal" href="#com-puc-saber-quins-mitjans-son-coneguts" id="id9">Com puc saber quins mitjans són coneguts</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="model-entitat-relacio">
<h2><a class="toc-backref" href="#id1">Model Entitat-Relació</a><a class="headerlink" href="#model-entitat-relacio" title="Link permanent a aquest títol">¶</a></h2>
<p>El següent diagrama d’entitat-relació descriu el nostre model de dades que
implementarem a la base de dades.</p>
<div align="center" class="align-center"><img src="_images/graphviz-b14ed09edc0be0cd08ed7a49b51046a0a7b81b4e.png" alt="digraph ERD {
  graph [   rankdir = &quot;LR&quot; ];
  ranksep=2;

  &quot;CONTACTES&quot; [ label=&quot;CONTACTES|id\l|nom\lcategoria\l&quot; shape = &quot;record&quot; ];
  &quot;MITJANS&quot;   [ label=&quot;MITJANS|id\l|id_contacte\ltipus\lreferencia\ldescripcio\l&quot; shape = &quot;record&quot; ];

  &quot;CONTACTES&quot;-&gt;&quot;MITJANS&quot; [arrowhead = crow];
}" />
</div>
<p>Als contactes els assignarem un identificador seqüèncial al camp numèric <code class="docutils literal notranslate"><span class="pre">id</span></code> i
disposaran, a banda del nom, la categoria. La categoria és un text amb valors
com ara <code class="docutils literal notranslate"><span class="pre">amic</span></code>, <code class="docutils literal notranslate"><span class="pre">família</span></code>, <code class="docutils literal notranslate"><span class="pre">company</span> <span class="pre">de</span> <span class="pre">feina</span></code>, etc. Aquest camp pot estar
buit.</p>
<p>La taula <code class="docutils literal notranslate"><span class="pre">MITJANS</span></code> conté els diferents mitjans de contacte (email, telèfon, fax,
usuari twitter…). El valor concret del mitjà de contacte, ex. l’adreça concreta,
es guarda al camp <code class="docutils literal notranslate"><span class="pre">referencia</span></code>. Finalment, els mitjans de contacte admeten una
descripció (ex. <code class="docutils literal notranslate"><span class="pre">casa</span></code>, <code class="docutils literal notranslate"><span class="pre">principal</span></code> o <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">el</span> <span class="pre">fa</span> <span class="pre">servir</span></code>)</p>
<p>Tots els camps, a excepció de <code class="docutils literal notranslate"><span class="pre">categoria</span></code> i <code class="docutils literal notranslate"><span class="pre">descripció</span></code> són requerits.</p>
<p>Al fitxer <a class="reference download internal" href="_downloads/bd.agenda.model.sql" download=""><code class="xref download docutils literal notranslate"><span class="pre">bd.agenda.model.sql</span></code></a> hi
trobaràs sentències per crear aquestes taules en PostgreSQL i poblar-les amb
algunes dades:</p>
<div class="highlight-sql notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">-- Model de l&#39;aplicació d&#39;agenda</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">MITJANS</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">CONTACTES</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">CONTACTES</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">nom</span> <span class="nb">TEXT</span> <span class="k">UNIQUE</span><span class="p">,</span>
    <span class="n">categoria</span> <span class="nb">TEXT</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">MITJANS</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">id_contacte</span> <span class="nb">INTEGER</span> <span class="k">references</span> <span class="n">CONTACTES</span><span class="p">,</span>
    <span class="n">tipus</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="n">referencia</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="n">descripcio</span> <span class="nb">TEXT</span>
<span class="p">);</span>


<span class="c1">-- Algunes entrades de prova</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">CONTACTES</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Agnes Li González&#39;</span><span class="p">,</span> <span class="s1">&#39;família&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">CONTACTES</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Ramir Rezos Buendía&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;agnesligonza2003@gmail.com&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;telefon&#39;</span><span class="p">,</span> <span class="s1">&#39;663832345&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;telefon&#39;</span><span class="p">,</span> <span class="s1">&#39;681289345&#39;</span><span class="p">,</span> <span class="s1">&#39;mare&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;telefon&#39;</span><span class="p">,</span> <span class="s1">&#39;932234512&#39;</span><span class="p">,</span> <span class="s1">&#39;feina&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;twitter&#39;</span><span class="p">,</span> <span class="s1">&#39;@agneslaguay&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;rezosbuendia@aibiem.com&#39;</span><span class="p">,</span> <span class="s1">&#39;feina&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;ramirbuendia@jotmeil.com&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;telefon&#39;</span><span class="p">,</span> <span class="s1">&#39;913452341&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MITJANS</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">DEFAULT</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;fax&#39;</span><span class="p">,</span> <span class="s1">&#39;913452342&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Fixa’t que fem servir <code class="docutils literal notranslate"><span class="pre">SERIAL</span></code> com a tipus pels identificadors, i <code class="docutils literal notranslate"><span class="pre">TEXT</span></code> com
a tipus per la major part dels camps. Si et preocupa que pugui estar-se ocupant
massa espai, et proposo que facis una ullada a <a class="reference external" href="https://www.postgresql.org/docs/9.3/datatype-character.html">aquesta descripció</a> de la
documentació oficial.</p>
</div>
<div class="section" id="descripcio-general-de-l-entorn">
<h2><a class="toc-backref" href="#id2">Descripció general de l’entorn</a><a class="headerlink" href="#descripcio-general-de-l-entorn" title="Link permanent a aquest títol">¶</a></h2>
<p>L’entorn operatiu oferirà com a prompt:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>agenda $
</pre></div>
</div>
<p>A banda, oferirà les opcions:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ajuda</span></code>: ofereix un text amb la descripció de totes les opcions disponibles.</li>
<li><code class="docutils literal notranslate"><span class="pre">sortir</span></code>: finalitza l’execució de l’aplicació.</li>
</ul>
</div>
<div class="section" id="comandes-de-consulta">
<h2><a class="toc-backref" href="#id3">Comandes de consulta</a><a class="headerlink" href="#comandes-de-consulta" title="Link permanent a aquest títol">¶</a></h2>
<p>A diferència del llistat de contactes, l’agenda no guarda totes les dades en
memòria. Cada cop que els usuaris llencen una consulta, va a cercar la
informació a la base de dades.</p>
<p>Les comandes de consulta són:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">llista</span></code>: mostra la llista de noms de tots els contactes</p>
<p>L’ordre d’aparició dels contactes serà alfabètic per nom. Els contactes
apareixeran paginats.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">cerca</span> <span class="pre">contacte</span> <span class="pre">«str»</span></code>: mostra la llista de tots els contactes que contenen el
substring <code class="docutils literal notranslate"><span class="pre">str</span></code> en el nom o mitjans de contacte.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">cerca</span> <span class="pre">categoria</span> <span class="pre">«cat»</span></code>: mostra tots els contactes de la categoria <code class="docutils literal notranslate"><span class="pre">cat</span></code></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">cerca</span> <span class="pre">categoria</span> <span class="pre">«cat»</span> <span class="pre">«str»</span></code>: mostra tots els contactes de la categoria <code class="docutils literal notranslate"><span class="pre">cat</span></code>
que continguin <code class="docutils literal notranslate"><span class="pre">str</span></code> en el seu nom o mitjans de contacte.</p>
</li>
</ul>
<p>L’especificació de les cadenes es realitzarà fent servir cometes dobles, a menys
que la cadena contingui una única paraula. Per exemple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>agenda $ cerca categoria &quot;amics del pare&quot; &quot;li gon&quot;
</pre></div>
</div>
<p>L’exemple anterior, cercarà els contactes amb la categoria <code class="docutils literal notranslate"><span class="pre">&quot;amics</span> <span class="pre">del</span> <span class="pre">pare&quot;</span></code>
que continguin la subcadena <code class="docutils literal notranslate"><span class="pre">&quot;li</span> <span class="pre">gon&quot;</span></code>.</p>
<p>En canvi, si la categoria o el string només contenen una paraula, es podrà
indicar sense cometes:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>agenda $ cerca categoria amics li
</pre></div>
</div>
</div>
<div class="section" id="comandes-de-modificacio">
<h2><a class="toc-backref" href="#id4">Comandes de modificació</a><a class="headerlink" href="#comandes-de-modificacio" title="Link permanent a aquest títol">¶</a></h2>
<p>A l’agenda també podrem fer comandes de modificació dels contactes.</p>
<p>A diferència de la llista de contactes, a l’agenda un contacte pot no tenir cap
mitjà de contacte.</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">afegeix</span> <span class="pre">contacte</span> <span class="pre">«nom»</span></code>: crea un contacte amb el nom indicat i amb cap mitjà de
contacte. Si ja existia un contacte amb aquest nom, mostra un avís i no fa
cap canvi.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">elimina</span> <span class="pre">contacte</span> <span class="pre">«str»</span></code>: cerca els contactes que continguin <code class="docutils literal notranslate"><span class="pre">str</span></code> en el seu nom o
mitjans de contacte.
Si hi ha més d’un, indica que cal especificar més i mostra els contactes
trobats.</p>
<p>Si només resulta un únic contacte, mostra les seves dades i demana
confirmació. Quan els usuaris confirmen, s’eliminen totes les dades del
contacte, incloent els seus mitjans de contacte. Finalment es mostra un
missatge informant de si s’ha eliminat o no el contacte.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">reanomena</span> <span class="pre">contacte</span> <span class="pre">«str»</span> <span class="pre">«nom»</span></code>: com <code class="docutils literal notranslate"><span class="pre">elimina</span> <span class="pre">contacte</span></code> però, quan troba
un únic contacte, canvia el nom anterior pel nou especificat.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">assigna</span> <span class="pre">categoria</span> <span class="pre">«str»</span> <span class="pre">[«cat»]</span></code>: com <code class="docutils literal notranslate"><span class="pre">elimina</span> <span class="pre">contacte</span></code> però, quan troba
un únic contacte, canvia la categoria anterior per la nova.
Si la categoria no s’especifica, el contacte quedarà marcat sense categoria.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">afegeix</span> <span class="pre">mitja</span> <span class="pre">«str»</span> <span class="pre">«tipus»</span> <span class="pre">«ref»</span> <span class="pre">[«descr»]</span></code>: de la mateixa manera que
<code class="docutils literal notranslate"><span class="pre">elimina</span> <span class="pre">contacte</span></code> cercarà un contacte i, si resulta només un, li afegirà el
mitjà de contacte del tipus indicat.  Si el contacte ja tenia aquest mitjà de
contacte, es mostra un avís i no fa res.</p>
<p>Opcionalment es podrà especificar la descripció del mitjà de contacte.</p>
<p>Si el tipus de mitjà de contacte no és un dels coneguts, es mostrarà un avís,
tot indicant la llista dels tipus de mitjans coneguts i es demanarà
confirmació per afegir-ne el nou.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">elimina</span> <span class="pre">mitja</span> <span class="pre">«str»</span> <span class="pre">«tipus»</span> <span class="pre">«ref»</span></code>: com <code class="docutils literal notranslate"><span class="pre">afegeix</span> <span class="pre">mitja</span></code> però en aquest
cas, elimina el mitjà de contacte. Si el mitjà no hi era mostra un avís i no
fa res.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">assigna</span> <span class="pre">descr</span> <span class="pre">«str»</span> <span class="pre">«tipus»</span> <span class="pre">«ref»</span> <span class="pre">[«descr»]</span></code>: permet assignar una nova
descripció a un mitjà de contacte. Si no se especifica la descripció,
l’anterior quedarà eliminada.</p>
</li>
</ul>
<p>Al final de cada execució d’una comanda de modificació, el programa sempre
oferirà un missatge confirmant que s’ha realitzat el canvi o bé que no s’ha fet.</p>
</div>
<div class="section" id="paginacio">
<h2><a class="toc-backref" href="#id5">Paginació</a><a class="headerlink" href="#paginacio" title="Link permanent a aquest títol">¶</a></h2>
<p>Donat que poden aparèixer molts contactes en algunes de les comandes, aquests
sempre es mostraran empaquetats de 5 en 5. El número podria canviar en un futur
i, fins i tot, ser possible que sigui definit pels usuaris. Per tant, el
codificarem amb una propietat final en comptes de fer servir el literal <code class="docutils literal notranslate"><span class="pre">5</span></code>
per tot arreu!</p>
<p>Es proposa desenvolupar un mètode, per exemple <code class="docutils literal notranslate"><span class="pre">mostraPaginant(List&lt;Contacte&gt;)</span></code> que se n’encarregui de mostrar cada pàgina de contactes i ofereixi, per cada pàgina, les opcions:</p>
<ul class="simple">
<li>si no es diu res, en prèmer <code class="docutils literal notranslate"><span class="pre">ENTER</span></code>, es mostrarà la següent pàgina. Si no
queden més per mostrar, mostra la darrera pàgina.</li>
<li><code class="docutils literal notranslate"><span class="pre">s</span></code>: mostra la pàgina següent. Equival a <code class="docutils literal notranslate"><span class="pre">ENTER</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">a</span></code>: mostra la pàgina anterior. Si no n’hi ha cap mostra la primera pàgina.</li>
<li><code class="docutils literal notranslate"><span class="pre">x</span></code>: finalitzar la paginació. Els contactes no mostrats, simplement s’ignoren</li>
</ul>
<p>Per cada contacte que aparegui a la pàgina es mostraran totes les seves dades.
Per exemple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Agnes Li González (família)
- email: agnesligonza2003@gemail.com
- telèfon: 663832345, 681289345 (mare), 932234512 (feina),
- twitter: @agneslaguay

Ramir Rezos Buendía
- email: rezosbuendia@aibiem.com (feina), ramirbuendia@jotmeil.com
- telèfon: 913452341
- fax: 913452342
</pre></div>
</div>
<p>Fixa’t que al costat del nom hi apareix, si està especificada, la seva
categoria. També, al costat de cada mitjà de contacte, si s’ha especificat,
es mostra la descripció.</p>
</div>
<div class="section" id="importacio-i-exportacio">
<h2><a class="toc-backref" href="#id6">Importació i exportació</a><a class="headerlink" href="#importacio-i-exportacio" title="Link permanent a aquest títol">¶</a></h2>
<p>Donat que la nostra agenda haurà de ser compatible amb les nostres antigues
aplicacions de llistats de contactes, oferirem les opcions d’importar i exportar
les dades a un fitxer de text en el conegut format «nom NUM tel» i «nom EMAIL
email». Les dades que no corresponguin als tipus de mitjà de contacte telèfon o
email, seran ignorades.</p>
<p>Les comandes seran:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">cami_a_fitxer</span></code></p>
<p>Importarà els contactes del fitxer especificat. Si no es possible llegir el
fitxer, o conté alguna línia no vàlida, es mostrarà un missatge d’error però
es permetrà continuar l’execució del programa.</p>
<p>Els contactes que ja existeixin a la BD seran ampliats si inclouen un mitjà de
contacte nou.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">cami_a_fitxer</span></code>:</p>
<p>Exportarà els contactes al fitxer especificat. Si el fitxer ja existeix o no
es pot escriure, es mostrarà un error.</p>
<p>Només s’exportarà les dades sobre els mitjans de contacte de tipus telèfon i
email. Per tant, aquells contactes que no tinguin com a mínim un d’aquests
mitjans de contacte, no apareixeran a l’exportació.</p>
</li>
</ul>
<p>En aquesta versió, i per simplificar, tant a l’hora de la importació com a
l’exportació, no es tindrà en compte la posició dels contactes als fitxers.</p>
</div>
<div class="section" id="pistes">
<h2><a class="toc-backref" href="#id7">Pistes</a><a class="headerlink" href="#pistes" title="Link permanent a aquest títol">¶</a></h2>
<div class="section" id="com-puc-extreure-informacio-d-una-cadena-de-text">
<h3><a class="toc-backref" href="#id8">Com puc extreure informació d’una cadena de text</a><a class="headerlink" href="#com-puc-extreure-informacio-d-una-cadena-de-text" title="Link permanent a aquest títol">¶</a></h3>
<p>A l’hora de extreure la informació d’una cadena que pot estar o no entre
cometes, es pot fer servir l’expressió regular
<code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">+((\&quot;[\\p{L}</span> <span class="pre">]+\&quot;)|(\\p{L}+))</span> <span class="pre">+((\&quot;[\\p{L}</span> <span class="pre">]+\&quot;)|(\\p{L}+))</span> <span class="pre">*$</span></code></p>
<p>Aquesta expressió està dissenyada per permetre aquest tipus d’entrades:</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="23%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">text</th>
<th class="head">group(1)</th>
<th class="head">group(4)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">hola</span> <span class="pre">adéu</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">hola</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">adéu</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">&quot;hola</span> <span class="pre">i</span> <span class="pre">adéu&quot;</span> <span class="pre">món</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">hola</span> <span class="pre">i</span> <span class="pre">adéu</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">món</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">hola</span> <span class="pre">&quot;i</span> <span class="pre">adéu</span> <span class="pre">món&quot;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">hola</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">adéu</span> <span class="pre">món</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">&quot;hola</span> <span class="pre">i&quot;</span> <span class="pre">&quot;adéu</span> <span class="pre">món&quot;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">hola</span> <span class="pre">i</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">adéu</span> <span class="pre">món</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="com-puc-saber-quins-mitjans-son-coneguts">
<h3><a class="toc-backref" href="#id9">Com puc saber quins mitjans són coneguts</a><a class="headerlink" href="#com-puc-saber-quins-mitjans-son-coneguts" title="Link permanent a aquest títol">¶</a></h3>
<p>Quan estàs afegint un mitjà, hi ha la possibilitat de crear un nou tipus de
mitjà. Sovint, però, el que pot passar és que ens estiguin introduïnt malament
el tipus.</p>
<p>Per evitar errors, se’t demana la funcionalitat de demanar confirmació. Per
fer-ho, una de les opcions és fer una consulta a la taula de mitjans tot
demanant els tipus (sense repeticions).</p>
</div>
</div>
</div>


           </div>
           
          </div>

          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="bd.consultes.html" class="btn btn-neutral" title="JDBC amb Model relacional" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2018-2019 Moisès Gómez Girón.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1819',
            LANGUAGE:'ca',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

     

  <!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41103782-2', 'auto');
  ga('send', 'pageview');

</script>
  <!-- End Google Analytics -->


  

</body>
</html>