

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ca" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ca" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Arquitectura d’una aplicació Web &mdash; Introducció a la programació 2019-20 documentació</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Hola Spark" href="web_holaspark.html" />
    <link rel="prev" title="Estructura d’una aplicació Web" href="web_estructura.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Introducció a la programació
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1920
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="instruccions.html">Instruccions</a></li>
<li class="toctree-l1"><a class="reference internal" href="condicionals.html">Condicionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteracions.html">Iteracions</a></li>
<li class="toctree-l1"><a class="reference internal" href="programacio_modular.html">Programació Modular</a></li>
<li class="toctree-l1"><a class="reference internal" href="python2java.html">De Python a Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructures.html">Estructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="web.html">Aplicacions Web</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="web_estructura.html">Estructura d’una aplicació Web</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Arquitectura d’una aplicació Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_holaspark.html">Hola Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_entornrenat.html">Renat en Web</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="web.html">Aplicacions Web</a> &raquo;</li>
        
      <li>Arquitectura d’una aplicació Web</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
            
  <div class="section" id="arquitectura-d-una-aplicacio-web">
<h1>Arquitectura d’una aplicació Web<a class="headerlink" href="#arquitectura-d-una-aplicacio-web" title="Link permanent a aquest títol">¶</a></h1>
<p>No t’espantis, no parlarem de maons.</p>
<p>Les aplicacions Web, i aquí ens centrarem en la part que ens toca
programar, es poden fer de moltes maneres. A aquestes maneres li diem
<em>arquitectura</em> de l’aplicació.</p>
<p>Per exemple, podem ficar tot el
codi en un fitxer amb una única classe plena de mètodes estàtics. Aquesta
opció probablement no ens resultarà massa pràctica a l’hora de
mantenir-la. Per exemple, si hem de realitzar ampliacions o volem
reaprofitar part del codi per altres aplicacions.</p>
<p>Una arquitectura molt més flexible podria ser separar el codi en àrees.
Una divisió molt típica és l’anomenada <em>Model-Vista-Controlador</em>.</p>
<div class="figure align-center" id="diagrama-mvc">
<p class="plantuml">
<img src="_images/plantuml-9fd2c45da0cb323fe6e778e84566b1e1f3300853.png" alt="&#64;startuml

skinparam actor {
    backgroundcolor white
}
skinparam participant {
    backgroundcolor white
}

Servidor -&gt; Controlador: //Request//
Controlador -&gt; Controlador: comprovacions\nex. permisos
Controlador -&gt; Model: crides
Model -&gt; Controlador: resultats parcials
Controlador -&gt; Vista: resultats
Vista -&gt; Controlador: resultats formatats
Controlador -&gt; Servidor: //Response//

&#64;enduml"/>
</p>
</div>
<ul>
<li><p>Model</p>
<p>Aquesta àrea és l’encarregada de gestionar la lògica dels elements amb
que treballa l’aplicació.</p>
<p>Per exemple, si recordes
<a class="reference internal" href="constructors.html#exercici-entornoperatiugatrenat"><span class="std std-ref">l’exercici de l’entorn operatiu del Gat Renat</span></a>
la classe <code class="docutils literal notranslate"><span class="pre">GatRenat</span></code> correspondria a aquesta part. Aquesta classe és
la que ha de saber com «funciona» un Gat Renat per dins i no s’ha de
preocupar de com serà vista des de fora.</p>
</li>
<li><p>Controlador</p>
<p>Es tracta de saber què ens demanen, decidir si tenen privilegis per fer-ho i si
les dades que ens passen són adequades,</p>
<p>Si tot és correcte, caldria fer les crides a les instàncies oportunes
per que realitzin els càlculs i retornin els resultats corresponents.</p>
<p>Finalment, caldrà fer les crides oportunes amb aquests resultats per
generar la resposta per l’usuari final. Aquesta resposta, en les
aplicacions Web pot ser, per exemple,  una pàgina HTML.</p>
<p>Aquesta àrea no se n’encarregarà ni de saber les regles de funcionament
dels conceptes que manega l’aplicació, ni de com s’han de mostrar.</p>
<p>A l’exemple de l’entorn operatiu del Gat Renat, la classe
<code class="docutils literal notranslate"><span class="pre">EntornOperatiu</span></code> correspondria <em>més o menys</em> a aquesta àrea. Dic més o
menys perquè a l’exercici original, aquesta classe també se n’encarrega
de composar la resposta pels usuaris.</p>
</li>
<li><p>Vista</p>
<p>Aquesta àrea se n’encarrega exclusivament de composar la resposta. No ha
de tenir ni idea de com se n’ha obtingut ni de si té o no sentit. Només
l’ha de deixar en el format esperat pels usuaris finals.</p>
</li>
</ul>
<p>Fixa’t que, d’aquesta manera, el model i la vista no es comuniquen mai.
Són independents i, és possible modificar l’un sense haver de tocar
l’altre. Per exemple, si hem d’afegir la nova regla de que un gat Renat no
pot posar-se dret directament si està estirat, el que modificarem serà el
model, però la vista no té perquè assabentar-se. De la mateixa manera, si
ens cal modificar les pàgines HTML amb les que mostrem el resultat de
manera que puguin ser llegides per persones amb dificultats visuals, el
canvi es veurà reflectit a la vista, però el model no se n’hauria
d’assabentar.</p>
<p>En aquesta arquitectura, el punt més sensible és sovint la capa de control
doncs depen de les altres dues.</p>
<p>Per a aquests continguts, la part de la vista la resoldrem amb un
programari ja existent. El <a class="reference external" href="https://freemarker.apache.org/">freemarker</a>.
És tracta d’un sistema de plantilles que permet definir una pàgina HTML
incompleta, en la que apareixen <em>variables</em> i, fins i tot, certa lògica,
per acabar-la de composar a partir dels resultats que ens genera la capa
de Control.</p>
<div class="section" id="exercici-2-a-veure-si-ho-he-entes-be">
<h2>Exercici 2. A veure si ho he entès bé<a class="headerlink" href="#exercici-2-a-veure-si-ho-he-entes-be" title="Link permanent a aquest títol">¶</a></h2>
<p>Respon a les següents preguntes el millor que siguis capaç</p>
<ol class="arabic">
<li><p>El <em>Model</em> ha de saber de HTML? I de CSS?</p></li>
<li><p>Segons el <a class="reference internal" href="#diagrama-mvc"><span class="std std-ref">diagrama</span></a> quin actor se n’encarregarà de
saber si la Usuària pot accedir a la pàgina que està demanant?</p></li>
<li><p>Perquè creus que el <em>Model</em> no passa els resultats directament a la
<em>Vista</em>? Quines repercussions tindria que ho fes?</p></li>
<li><p>Recorda com vas resoldre l’exercici de <a class="reference internal" href="constructors.html#exercici-entornoperatiugatrenat"><span class="std std-ref">l’entorn operatiu del Gat
Renat</span></a>. Probablement tenies tres
classes (potser més?)</p>
<p>Indica per cada classe que vas fer servir, a quin actor del diagrama
estava «jugant». En el text ja apareixen pistes.</p>
</li>
</ol>
</div>
</div>


           </div>
           
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>


          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="web_holaspark.html" class="btn btn-neutral float-right" title="Hola Spark" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="web_estructura.html" class="btn btn-neutral float-left" title="Estructura d’una aplicació Web" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2020 Moisès Gómez Girón

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>